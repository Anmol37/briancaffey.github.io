<!DOCTYPE html>
<html>

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>PCPartPicker data</title>
  <meta name="description" content="In the summer of 2016 I built two high-end computers, something I haven’t done since 2011! I used PC Part Picker to research the components and read about PC...">

  <link rel="stylesheet" href="/css/main.css">
  <link rel="canonical" href="/2017/01/01/pc-data.html">
  <link rel="alternate" type="application/rss+xml" title="Brian Caffey" href="/feed.xml">
</head>

  <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-75060954-1', 'auto');
  ga('send', 'pageview');

</script>
  <body>

    <header class="site-header">

  <div class="wrapper">

    <a class="site-title" href="/">Brian Caffey</a>

    <nav class="site-nav">
      <a href="#" class="menu-icon">
        <svg viewBox="0 0 18 15">
          <path fill="#424242" d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.031C17.335,0,18,0.665,18,1.484L18,1.484z"/>
          <path fill="#424242" d="M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0c0-0.82,0.665-1.484,1.484-1.484 h15.031C17.335,6.031,18,6.696,18,7.516L18,7.516z"/>
          <path fill="#424242" d="M18,13.516C18,14.335,17.335,15,16.516,15H1.484C0.665,15,0,14.335,0,13.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.031C17.335,12.031,18,12.696,18,13.516L18,13.516z"/>
        </svg>
      </a>

      <div class="trigger">
        
          
          <a class="page-link" href="/contact">Contact</a>
          
        
          
          <a class="page-link" href="/blog">Blog</a>
          
        
          
        
          
        
          
        
          
          <a class="page-link" href="/resume">Resume</a>
          
        
      </div>
    </nav>

  </div>

</header>


    <div class="page-content">
      <div class="wrapper">
        <article class="post" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">
    <h1 class="post-title" itemprop="name headline">PCPartPicker data</h1>
    <p class="post-meta"><time datetime="2017-01-01T00:00:00-05:00" itemprop="datePublished">Jan 1, 2017</time></p>
  </header>

  <div class="post-content" itemprop="articleBody">
    <p>In the summer of 2016 I built two high-end computers, something I haven’t done since 2011! I used <a href="pcpartpicker.com">PC Part Picker</a> to research the components and read about PC builds similar to the ones I had in mind. It’s a relatively new site that has a strong community of builders, helpful tools to help with part compatibility as well as extensive user reviews.</p>

<p>Pouring over pages and pages of computer builds, CPUs, video cards and memory got me very interested in visualizing the data on individual components and builds, and the relationship between component specifications and prices. This post will detail the process by which I collected, cleaned, visualized and analyzed all of the data on <a href="pcpartpicker.com">PCPartPicker.com</a>. I’ve also done some work with natural language process (NLP) to do sentiment analysis on the collection of written user reviews for individual PC parts. If you read to the end you will get to see the two computers I built last summer: <a href="#"><em>Ascension I</em></a> (my personal machine) and <a href="#"><em>Beast Mode II</em> (BM2)</a> (for my cousin).</p>

<h2 id="data-collection--cleaning">Data Collection &amp; Cleaning</h2>

<p>For the most part, the data I wanted was well organized and conveniently structured. Since the content on almost all of the pages was loaded dynamically, I used a JavaScript engine called PhantomJS to retrieve the HTML after the page loaded, otherwise scrapping the web pages would return only the skeleton of the DOM with no data. Here is the JavaScript file that I used with PhantomJS to scrape data:</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="s2">"use strict"</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">system</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'system'</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">args</span> <span class="o">=</span> <span class="nx">system</span><span class="p">.</span><span class="nx">args</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">page</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'webpage'</span><span class="p">).</span><span class="nx">create</span><span class="p">();</span>

<span class="nx">page</span><span class="p">.</span><span class="nx">onConsoleMessage</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">msg</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">msg</span><span class="p">);</span>
<span class="p">};</span>
<span class="kd">var</span> <span class="nx">url</span> <span class="o">=</span> <span class="nx">args</span><span class="p">[</span><span class="mi">1</span><span class="p">];</span>
<span class="nx">page</span><span class="p">.</span><span class="nx">open</span><span class="p">(</span><span class="nx">url</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">status</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">status</span> <span class="o">===</span> <span class="s2">"success"</span><span class="p">)</span> <span class="p">{</span>
            <span class="nx">page</span><span class="p">.</span><span class="nx">evaluate</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
                <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nb">document</span><span class="p">.</span><span class="nx">body</span><span class="p">.</span><span class="nx">innerHTML</span><span class="p">);</span>    
        <span class="p">});</span>
    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
      <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">"not success"</span><span class="p">);</span>  
    <span class="p">}</span>
<span class="nx">phantom</span><span class="p">.</span><span class="nx">exit</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>
</div>
<p>PhantomJS was pretty painful to use, and I’ve heard of better options for web browser automation and web scrapping like <a href="http://www.seleniumhq.org/">Selenium</a>, so I would probably use that for future projects. PhantomJS works fairly well, and this script, combined with the bash scripts below should be able to serve as a decent template for any similar type of web scraping project.</p>

<p>The first step was to loop through pages containing links of pages for both completed computer builds and computer parts using bash. Here’s bash script I used to scrape links to computer builds:</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="c">#!/use/bin/env bash</span>
<span class="k">for </span>i <span class="k">in</span> <span class="sb">`</span>seq 1 1125<span class="sb">`</span>;
<span class="k">do 
	</span>phantomjs production.js <span class="s2">"https://pcpartpicker.com/builds/#page="</span><span class="nv">$i</span> &gt; pages/pages_<span class="nv">$i</span>.txt
	<span class="nv">result</span><span class="o">=</span><span class="k">$(</span>python -c <span class="s2">"import random;print(random.uniform(2.1, 3.4))"</span><span class="k">)</span>
	sleep <span class="nv">$result</span>
<span class="k">done</span>
</code></pre>
</div>

<p>The result of <code class="highlighter-rouge">phantomjs</code> saves HTML to a text file, and then waits for a few seconds before scraping the next page.</p>

<p>I then looped through these pages and pulled all of the content links for builds and parts into separate text files using Beautiful Soup. Here’s the script for that in python:</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">os</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="kn">as</span> <span class="nn">pd</span>
<span class="kn">from</span> <span class="nn">bs4</span> <span class="kn">import</span> <span class="n">BeautifulSoup</span>

<span class="n">os</span><span class="o">.</span><span class="n">chdir</span><span class="p">(</span><span class="s">'pages'</span><span class="p">)</span>
<span class="n">all_links</span> <span class="o">=</span> <span class="p">[]</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">os</span><span class="o">.</span><span class="n">listdir</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">getcwd</span><span class="p">()):</span>
    <span class="n">text</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="s">"r"</span><span class="p">)</span>
    <span class="n">html</span> <span class="o">=</span> <span class="n">text</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
    <span class="n">b</span> <span class="o">=</span> <span class="n">BeautifulSoup</span><span class="p">(</span><span class="n">html</span><span class="p">)</span>
    <span class="n">links</span> <span class="o">=</span> <span class="n">b</span><span class="o">.</span><span class="n">findAll</span><span class="p">(</span><span class="s">'a'</span><span class="p">,</span> <span class="n">attrs</span><span class="o">=</span><span class="p">{</span><span class="s">"class"</span><span class="p">:</span><span class="s">"build-link"</span><span class="p">})</span>
    <span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="n">links</span><span class="p">:</span> 
        <span class="n">path</span> <span class="o">=</span> <span class="n">a</span><span class="p">[</span><span class="s">'href'</span><span class="p">]</span>
        <span class="n">all_links</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>
    <span class="n">b</span><span class="o">.</span><span class="n">decompose</span><span class="p">()</span>
    <span class="n">text</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>

<span class="n">os</span><span class="o">.</span><span class="n">chdir</span><span class="p">(</span><span class="s">'../'</span><span class="p">)</span>
<span class="n">url_file</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="s">'links.txt'</span><span class="p">,</span> <span class="s">'a'</span><span class="p">)</span>

<span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">all_links</span><span class="p">:</span>
    <span class="n">url_file</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s">'</span><span class="si">%</span><span class="s">s</span><span class="se">\n</span><span class="s">'</span> <span class="o">%</span> <span class="n">x</span><span class="p">)</span>
<span class="n">url_file</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</code></pre>
</div>

<p>The first loop goes through all of the pages scraped with phantomjs puts each <code class="highlighter-rouge">build-link</code> in a list called <code class="highlighter-rouge">all_links</code>. The second loop writes each link to a new line in <code class="highlighter-rouge">links.txt</code>, which looks like this:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>/b/4x4D4D
/b/ZhVnTW
/b/8fNG3C
/b/7KWZxr
/b/Qm6hP6
/b/X4rH99
...
</code></pre>
</div>

<p>The next step is one more bash script that scrapes HTML from individual biulds and saves it to text files.</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="c">#!/use/bin/env bash</span>

<span class="nv">counter</span><span class="o">=</span>1
<span class="k">while </span><span class="nb">read </span>NAME; <span class="k">do
    </span><span class="nb">echo</span> <span class="s2">"[STATUS] Scraping build number </span><span class="nv">$counter</span><span class="s2">: </span><span class="nv">$NAME</span><span class="s2">..."</span>
    <span class="nv">file</span><span class="o">=</span><span class="s2">"new_build-"</span><span class="k">${</span><span class="nv">NAME</span><span class="p">//\/b\//</span><span class="nv">$counter</span><span class="p">-</span><span class="k">}</span>
    phantomjs scrape_build.js <span class="s2">"https://pcpartpicker.com</span><span class="nv">$NAME</span><span class="s2">"</span> &gt; builds/<span class="nv">$file</span>.txt
	<span class="nv">result</span><span class="o">=</span><span class="k">$(</span>python -c <span class="s2">"import random;print(random.uniform(2.5, 4.4))"</span><span class="k">)</span>
	<span class="nb">echo</span> <span class="s2">"[STATUS] Completed scraping build number </span><span class="nv">$counter</span><span class="s2"> (</span><span class="nv">$NAME</span><span class="s2">). Sleeping for </span><span class="nv">$result</span><span class="s2"> seconds..."</span>
	sleep <span class="nv">$result</span>
    <span class="o">((</span>counter +<span class="o">=</span> 1<span class="o">))</span>
<span class="k">done</span> &lt; links.txt
</code></pre>
</div>

<p>The script takes lines from <code class="highlighter-rouge">links.txt</code> and appends them to the base URL, scrapes the HTML from the resulting link and saves it to a text file.</p>

<p>The next step is to go through the text files for each PC build and create a pandas DataFrame containing data for each PC build (~25,000 builds total). Here’s a sample PC build link: <a href="https://pcpartpicker.com/b/VD3bt6">https://pcpartpicker.com/b/VD3bt6</a>. This heavily commented script shows step-by-step how to scrape all of the relevant data from the HTML for PC builds:</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">os</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="kn">as</span> <span class="nn">pd</span>
<span class="kn">from</span> <span class="nn">bs4</span> <span class="kn">import</span> <span class="n">BeautifulSoup</span>
    
<span class="n">os</span><span class="o">.</span><span class="n">chdir</span><span class="p">(</span><span class="s">'builds/builds_html'</span><span class="p">)</span>    
<span class="n">build_dict_list</span> <span class="o">=</span> <span class="p">[]</span>

<span class="n">files</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">listdir</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">getcwd</span><span class="p">())</span>

<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">files</span><span class="p">:</span>
    
    <span class="k">try</span><span class="p">:</span> 
        <span class="n">a</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="s">"r"</span><span class="p">)</span>
        <span class="n">b</span> <span class="o">=</span> <span class="n">BeautifulSoup</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>

        <span class="c">#Labels: Each build list has labels, for example: Video Card: GeForce GTX 1080</span>
        <span class="n">labels</span> <span class="o">=</span> <span class="n">b</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s">'ul'</span><span class="p">,</span> <span class="n">attrs</span><span class="o">=</span><span class="p">{</span><span class="s">"class"</span><span class="p">:</span><span class="s">"parts"</span><span class="p">})</span><span class="o">.</span><span class="n">findAll</span><span class="p">(</span><span class="s">'p'</span><span class="p">,</span> <span class="n">attrs</span><span class="o">=</span><span class="p">{</span><span class="s">"label"</span><span class="p">})</span>
        
        <span class="c">#The number of labels varies between builds</span>
        <span class="c">#Some builds have multiple parts of the same type</span>
        <span class="n">cols</span> <span class="o">=</span> <span class="p">[</span><span class="n">label</span><span class="o">.</span><span class="n">contents</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="k">for</span> <span class="n">label</span> <span class="ow">in</span> <span class="n">labels</span><span class="p">]</span>
        
        <span class="c">#This will keep track of how many of each part there are</span>
        <span class="n">count</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">cols</span><span class="p">))]</span>

        <span class="c">#This handles multiple parts of the same type (e.g. 2 or more graphics cards)</span>
        <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">cols</span><span class="p">)):</span>
            <span class="n">count</span><span class="p">[</span><span class="n">x</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span> <span class="o">+</span> <span class="n">cols</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="n">x</span><span class="p">]</span><span class="o">.</span><span class="n">count</span><span class="p">(</span><span class="n">cols</span><span class="p">[</span><span class="n">x</span><span class="p">])</span>

        <span class="c">#Rename the labels with the corresponding count appended to the end</span>
        <span class="n">new_cols</span> <span class="o">=</span> <span class="p">[</span><span class="nb">str</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="o">+</span><span class="s">"_"</span><span class="o">+</span><span class="nb">str</span><span class="p">(</span><span class="n">y</span><span class="p">)</span> <span class="k">for</span> <span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">)</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">cols</span><span class="p">,</span> <span class="n">count</span><span class="p">)]</span>

        <span class="c">#Values (Names of parts)</span>
        <span class="n">values</span> <span class="o">=</span> <span class="n">b</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s">'ul'</span><span class="p">,</span> <span class="n">attrs</span><span class="o">=</span><span class="p">{</span><span class="s">"class"</span><span class="p">:</span><span class="s">"parts"</span><span class="p">})</span><span class="o">.</span><span class="n">findAll</span><span class="p">(</span><span class="s">'a'</span><span class="p">,</span> <span class="n">attrs</span><span class="o">=</span><span class="p">{</span><span class="s">"name"</span><span class="p">})</span>
        <span class="n">vals</span> <span class="o">=</span> <span class="p">[</span><span class="n">value</span><span class="o">.</span><span class="n">contents</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="k">for</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">values</span><span class="p">]</span>

        <span class="c">#Links</span>
        <span class="n">link_list</span> <span class="o">=</span> <span class="n">b</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s">'ul'</span><span class="p">,</span> <span class="n">attrs</span><span class="o">=</span><span class="p">{</span><span class="s">"class"</span><span class="p">:</span><span class="s">"parts"</span><span class="p">})</span><span class="o">.</span><span class="n">findAll</span><span class="p">(</span><span class="s">'a'</span><span class="p">,</span> <span class="n">attrs</span><span class="o">=</span><span class="p">{</span><span class="s">"name"</span><span class="p">})</span>
        <span class="n">link_list</span> <span class="o">=</span> <span class="p">[</span><span class="n">link</span><span class="p">[</span><span class="s">'href'</span><span class="p">]</span> <span class="k">for</span> <span class="n">link</span> <span class="ow">in</span> <span class="n">link_list</span><span class="p">]</span>

        <span class="c">#Prices: there is a an individual price for each part and a total price for the build</span>
        <span class="n">prices</span> <span class="o">=</span> <span class="n">b</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s">'ul'</span><span class="p">,</span> <span class="n">attrs</span><span class="o">=</span><span class="p">{</span><span class="s">"class"</span><span class="p">:</span><span class="s">"parts"</span><span class="p">})</span><span class="o">.</span><span class="n">findAll</span><span class="p">(</span><span class="s">'div'</span><span class="p">,</span> <span class="n">attrs</span><span class="o">=</span><span class="p">{</span><span class="s">"price"</span><span class="p">})</span>
        <span class="n">price_list</span> <span class="o">=</span> <span class="p">[</span><span class="n">price</span><span class="o">.</span><span class="n">contents</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span> <span class="k">for</span> <span class="n">price</span> <span class="ow">in</span> <span class="n">prices</span><span class="p">]</span>

        <span class="c">#This creates a dictionary for each component of the build</span>
        <span class="c">#Contains the component name, link and price (the price reported by the user)</span>
        <span class="n">build_part_dict</span> <span class="o">=</span> <span class="p">{</span><span class="n">part</span><span class="p">:</span> <span class="p">{</span><span class="s">"Link"</span><span class="p">:</span><span class="n">link</span><span class="p">,</span><span class="s">"Price"</span><span class="p">:</span><span class="n">price</span><span class="p">,</span><span class="s">"Name"</span><span class="p">:</span><span class="n">name</span><span class="p">}</span> <span class="k">for</span> <span class="n">part</span><span class="p">,</span> <span class="n">link</span><span class="p">,</span> <span class="n">price</span><span class="p">,</span> <span class="n">name</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">new_cols</span><span class="p">,</span> <span class="n">link_list</span><span class="p">,</span> <span class="n">price_list</span><span class="p">,</span><span class="n">vals</span><span class="p">)}</span>

        <span class="c">#Total price</span>
        <span class="n">total_price</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">b</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s">"li"</span><span class="p">,</span><span class="n">attrs</span><span class="o">=</span><span class="p">{</span><span class="s">"class"</span><span class="p">:</span><span class="s">"partlist-total"</span><span class="p">})</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s">'span'</span><span class="p">,</span> <span class="n">attrs</span><span class="o">=</span><span class="p">{</span><span class="s">"class"</span><span class="p">:</span><span class="s">"price"</span><span class="p">})</span><span class="o">.</span><span class="n">contents</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">strip</span><span class="p">(</span><span class="s">"$"</span><span class="p">))</span>
        <span class="n">total_price_dict</span> <span class="o">=</span> <span class="p">{</span><span class="s">"total"</span><span class="p">:</span><span class="n">total_price</span><span class="p">}</span>

        <span class="c">#Description</span>
        <span class="n">description_paragraphs</span> <span class="o">=</span> <span class="n">b</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s">'div'</span><span class="p">,</span> <span class="n">attrs</span><span class="o">=</span><span class="p">{</span><span class="s">'class'</span><span class="p">:</span><span class="s">'description block'</span><span class="p">})</span><span class="o">.</span><span class="n">find_all</span><span class="p">(</span><span class="s">'p'</span><span class="p">)</span>
        <span class="n">description_clean</span> <span class="o">=</span> <span class="s">''</span>
        <span class="k">for</span> <span class="n">paragraph</span> <span class="ow">in</span> <span class="n">description_paragraphs</span><span class="p">:</span>
            <span class="n">add</span> <span class="o">=</span> <span class="n">paragraph</span><span class="o">.</span><span class="n">text</span>
            <span class="n">description_clean</span> <span class="o">+=</span> <span class="n">add</span> <span class="o">+</span> <span class="s">' '</span>  
        <span class="n">description_dict</span> <span class="o">=</span> <span class="p">{</span><span class="s">'Description'</span><span class="p">:</span><span class="n">description_clean</span><span class="p">}</span>

        <span class="c">#Builder</span>
        <span class="n">build_name</span> <span class="o">=</span> <span class="n">b</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s">'h1'</span><span class="p">,</span> <span class="n">attrs</span><span class="o">=</span><span class="p">{</span><span class="s">"class"</span><span class="p">:</span><span class="s">"name"</span><span class="p">})</span><span class="o">.</span><span class="n">contents</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="n">builder_link</span> <span class="o">=</span> <span class="n">b</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s">'p'</span><span class="p">,</span> <span class="n">attrs</span><span class="o">=</span><span class="p">{</span><span class="s">"class"</span><span class="p">:</span><span class="s">"owner"</span><span class="p">})</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s">'a'</span><span class="p">)[</span><span class="s">'href'</span><span class="p">]</span>
        <span class="n">builder_dict</span> <span class="o">=</span> <span class="p">{</span><span class="s">"Builder"</span><span class="p">:</span><span class="n">build_name</span><span class="p">}</span>
        <span class="n">owner_dict</span> <span class="o">=</span> <span class="p">{</span><span class="s">"Owner"</span><span class="p">:</span><span class="n">builder_link</span><span class="p">}</span>

        <span class="c">#Details: Details include clock speed, temperatures, date built, etc. </span>
        <span class="c">#The process is similar to sraping the components, but there is no need to worry about duplicate parts</span>
        <span class="n">detail_vals</span> <span class="o">=</span> <span class="p">[</span><span class="n">x</span><span class="o">.</span><span class="n">strip</span><span class="p">(</span><span class="s">u" "</span><span class="p">)</span><span class="o">.</span><span class="n">strip</span><span class="p">(</span><span class="s">u'</span><span class="se">\n</span><span class="s">'</span><span class="p">)</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">b</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s">'div'</span><span class="p">,</span> <span class="n">attrs</span><span class="o">=</span><span class="p">{</span><span class="s">"class"</span><span class="p">:</span><span class="s">"part-details"</span><span class="p">})</span> <span class="k">if</span> <span class="s">"</span><span class="se">\n</span><span class="s"> "</span> <span class="ow">in</span> <span class="n">x</span><span class="p">]</span>
        <span class="n">details</span> <span class="o">=</span> <span class="p">[</span><span class="n">x</span><span class="o">.</span><span class="n">contents</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">b</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s">'div'</span><span class="p">,</span> <span class="n">attrs</span><span class="o">=</span><span class="p">{</span><span class="s">"class"</span><span class="p">:</span><span class="s">"part-details"</span><span class="p">})</span><span class="o">.</span><span class="n">find_all</span><span class="p">(</span><span class="s">'h4'</span><span class="p">)]</span>
        <span class="n">detail_dict</span> <span class="o">=</span> <span class="p">{</span><span class="n">detail</span><span class="p">:</span><span class="n">detail_val</span> <span class="k">for</span> <span class="n">detail_val</span><span class="p">,</span> <span class="n">detail</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">detail_vals</span><span class="p">,</span> <span class="n">details</span><span class="p">)}</span>

        <span class="c">#Permalink</span>
        <span class="n">perma_link</span> <span class="o">=</span> <span class="n">b</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s">'input'</span><span class="p">,</span> <span class="n">attrs</span><span class="o">=</span><span class="p">{</span><span class="s">"type"</span><span class="p">:</span><span class="s">"text"</span><span class="p">})[</span><span class="s">'value'</span><span class="p">]</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s">"/b/"</span><span class="p">)[</span><span class="mi">1</span><span class="p">]</span>
        <span class="n">build_dict</span> <span class="o">=</span> <span class="p">{</span><span class="s">"Permalink"</span><span class="p">:</span> <span class="n">perma_link</span><span class="p">,</span> <span class="s">"Builder"</span><span class="p">:</span><span class="n">builder_link</span><span class="p">}</span>

        <span class="c">#Join all of the above dictionaries into a master build dictionary</span>
        <span class="n">master_dict</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="n">build_dict</span><span class="o">.</span><span class="n">items</span><span class="p">()</span><span class="o">+</span><span class="n">builder_dict</span><span class="o">.</span><span class="n">items</span><span class="p">()</span><span class="o">+</span><span class="n">build_part_dict</span><span class="o">.</span><span class="n">items</span><span class="p">()</span><span class="o">+</span><span class="n">detail_dict</span><span class="o">.</span><span class="n">items</span><span class="p">()</span><span class="o">+</span><span class="n">total_price_dict</span><span class="o">.</span><span class="n">items</span><span class="p">()</span><span class="o">+</span><span class="n">owner_dict</span><span class="o">.</span><span class="n">items</span><span class="p">()</span> <span class="o">+</span> <span class="n">description_dict</span><span class="o">.</span><span class="n">items</span><span class="p">())</span>
        
        <span class="c">#Add the dictionary to build_dict_list defined above</span>
        <span class="n">build_dict_list</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">master_dict</span><span class="p">)</span>
        
        <span class="c">#This is important for preventing memory leaks in bs4</span>
        <span class="n">b</span><span class="o">.</span><span class="n">decompose</span><span class="p">()</span>
        <span class="n">a</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
    
    <span class="c">#Some builds have been deleted, even though the links are still listed, so we pass the build if there are any issues scraping data from it</span>
    <span class="k">except</span><span class="p">:</span>
        <span class="k">pass</span>

<span class="c">#Create a pandas DataFrame from build_dict_list</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">build_dict_list</span><span class="p">)</span>
<span class="n">os</span><span class="o">.</span><span class="n">chdir</span><span class="p">(</span><span class="s">'/Users/andrewcaffey/Documents/Projects/Data/PCPP/builds/'</span><span class="p">)</span>
<span class="c">#Save the DataFrame to a csv file</span>
<span class="n">df</span><span class="o">.</span><span class="n">to_csv</span><span class="p">(</span><span class="s">'builds.csv'</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s">'utf-8'</span><span class="p">)</span>
</code></pre>
</div>

<p>At this point we can do a quick visualization of the distribution of PC prices:</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="n">df</span><span class="o">.</span><span class="n">total</span><span class="p">[(</span><span class="n">df</span><span class="o">.</span><span class="n">total</span><span class="o">&gt;</span><span class="mi">0</span><span class="p">)</span><span class="o">&amp;</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">total</span><span class="o">&lt;</span><span class="mi">7000</span><span class="p">)]</span><span class="o">.</span><span class="n">hist</span><span class="p">(</span><span class="n">bins</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span><span class="mi">10</span><span class="p">))</span>
</code></pre>
</div>

<p><img src="/img/hist.png" alt="png" /></p>

<p>The mean PC price is <strong>$1,292</strong>. However, the price of PCs is not reflected accurately in <code class="highlighter-rouge">df.total</code>. I noticed that some builds include multiple monitors while other don’t include any and some builders don’t include prices from their previous PC builds.</p>

<p>The data frame contains 141 colums for parts. Here they are:</p>

<blockquote>
  <p>All-In-One Monitor/Chassis_1 CPU Cooler_1 CPU Cooler_2 CPU Cooler_3 CPU_1 CPU_2 Case Accessory_1 Case Accessory_2 Case Fan_1 Case Fan_10 Case Fan_11 Case Fan_12 Case Fan_13 Case Fan_14 Case Fan_15 Case Fan_16 Case Fan_17 Case Fan_18 Case Fan_19 Case Fan_2 Case Fan_20 Case Fan_21 Case Fan_22 Case Fan_23 Case Fan_24 Case Fan_25 Case Fan_26 Case Fan_27 Case Fan_28 Case Fan_29 Case Fan_3 Case Fan_30 Case Fan_31 Case Fan_32 Case Fan_4 Case Fan_5 Case Fan_6 Case Fan_7 Case Fan_8 Case Fan_9 Case_1 Coolant_1 External Storage_1 External Storage_2 External Storage_3 External Storage_4 Fan Controller_1 Fan Controller_2 Food_1 Food_2 Food_3 Headphones_1 Headphones_2 Headphones_3 Headphones_4 Keyboard_1 Keyboard_2 Keyboard_3 Keyboard_4 Keyboard_5 Keyboard_6 Keyboard_7 Laptop_1 Memory_1 Memory_2 Memory_3 Memory_4 Memory_5 Memory_6 Memory_7 Memory_8 Monitor_1 Monitor_2 Monitor_3 Monitor_4 Monitor_5 Monitor_6 Motherboard_1 Mouse_1 Mouse_2 Mouse_3 Mouse_4 Mouse_5 Operating System_1 Optical Drive_1 Optical Drive_2 Optical Drive_3 Optical Drive_4 Power Supply_1 Radiator_1 Reservoir_1 Software_1 Software_2 Software_3 Software_4 Software_5 Software_6 Sound Card_1 Sound Card_2 Speakers_1 Speakers_2 Storage_1 Storage_10 Storage_11 Storage_12 Storage_13 Storage_14 Storage_15 Storage_16 Storage_17 Storage_18 Storage_19 Storage_2 Storage_20 Storage_21 Storage_22 Storage_23 Storage_24 Storage_25 Storage_3 Storage_4 Storage_5 Storage_6 Storage_7 Storage_8 Storage_9 Thermal Compound_1 Thermal Compound_2 Thermal Compound_3 Thermal Compound_4 UPS_1 Video Card Cooler_1 Video Card Cooler_2 Video Card_1 Video Card_2 Video Card_3 Video Card_4 Wired Network Adapter_1 Wired Network Adapter_2 Wireless Network Adapter_1 Wireless Network Adapter_2</p>
</blockquote>

<p>That’s right, somebody included mulitple food items in their PC build! One build listed 29 hard drive disks and another listed 32 case fans. So, it will make more sense to look at individual PC builds by their core components:</p>

<ul>
  <li>case</li>
  <li>CPU</li>
  <li>GPU (multiple)</li>
  <li>motherboard</li>
  <li>memory (multiple)</li>
  <li>storage (multiple)</li>
  <li>CPU cooler</li>
  <li>PSU (power supply unit)</li>
</ul>

<p>Most of the PC builds have at least one of these core components.</p>

<p>The <code class="highlighter-rouge">builds.csv</code> file still needs a bit more work before we can start to explore the data. The next step is to unpack the part dictionaries and create new columns with price and link information for each part.</p>

<div class="highlighter-rouge"><pre class="highlight"><code>
<span class="n">cols</span> <span class="o">=</span> <span class="p">[</span><span class="n">col</span> <span class="k">for</span> <span class="n">col</span> <span class="ow">in</span> <span class="n">df</span><span class="o">.</span><span class="n">columns</span> <span class="k">if</span> <span class="s">'_'</span> <span class="ow">in</span> <span class="n">col</span><span class="p">]</span>
<span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">cols</span><span class="p">:</span>
    
    <span class="n">df</span><span class="p">[</span><span class="n">x</span><span class="o">+</span><span class="s">'_price'</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="n">y</span><span class="p">[</span><span class="s">u'Price'</span><span class="p">]</span> <span class="k">if</span> <span class="nb">type</span><span class="p">(</span><span class="n">y</span><span class="p">)</span><span class="o">==</span><span class="nb">dict</span> <span class="k">else</span> <span class="bp">None</span> <span class="k">for</span> <span class="n">y</span> <span class="ow">in</span> <span class="n">df</span><span class="p">[</span><span class="n">x</span><span class="p">]]</span>
    <span class="n">df</span><span class="p">[</span><span class="n">x</span><span class="o">+</span><span class="s">'_link'</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="n">y</span><span class="p">[</span><span class="s">u'Link'</span><span class="p">]</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s">'/'</span><span class="p">)[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="k">if</span> <span class="nb">type</span><span class="p">(</span><span class="n">y</span><span class="p">)</span><span class="o">==</span><span class="nb">dict</span> <span class="k">else</span> <span class="bp">None</span> <span class="k">for</span> <span class="n">y</span> <span class="ow">in</span> <span class="n">df</span><span class="p">[</span><span class="n">x</span><span class="p">]]</span>
</code></pre>
</div>

<p>We can do more list comprehension to clean up some of the other non-dictionary columns in our builds DataFrame:</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="n">df</span><span class="p">[</span><span class="s">'CPU Clock Rate'</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="n">x</span> <span class="k">if</span> <span class="nb">type</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="o">==</span><span class="nb">str</span> <span class="k">else</span> <span class="s">'0Ghz'</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">df</span><span class="p">[</span><span class="s">'CPU Clock Rate'</span><span class="p">]]</span>
<span class="n">df</span><span class="p">[</span><span class="s">'cpu_clock_rate'</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="nb">float</span><span class="p">(</span><span class="n">re</span><span class="o">.</span><span class="n">sub</span><span class="p">(</span><span class="s">r'[A-Z]+'</span><span class="p">,</span> <span class="s">''</span><span class="p">,</span> <span class="n">x</span><span class="o">.</span><span class="n">upper</span><span class="p">()))</span><span class="o">*</span><span class="mi">1000</span> <span class="k">if</span> <span class="s">'GHZ'</span> <span class="ow">in</span> <span class="n">x</span><span class="o">.</span><span class="n">upper</span><span class="p">()</span> <span class="k">else</span> <span class="nb">float</span><span class="p">(</span><span class="n">re</span><span class="o">.</span><span class="n">sub</span><span class="p">(</span><span class="s">r'[A-Z]+'</span><span class="p">,</span> <span class="s">''</span><span class="p">,</span> <span class="n">x</span><span class="o">.</span><span class="n">upper</span><span class="p">()))</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">df</span><span class="p">[</span><span class="s">'CPU Clock Rate'</span><span class="p">]]</span>

<span class="n">df</span><span class="p">[</span><span class="s">'cpuwhileIdle'</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="nb">float</span><span class="p">(</span><span class="n">re</span><span class="o">.</span><span class="n">sub</span><span class="p">(</span><span class="s">"[^0-9^.]"</span><span class="p">,</span> <span class="s">""</span><span class="p">,</span> <span class="n">x</span><span class="p">))</span> <span class="k">if</span> <span class="nb">type</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="o">==</span> <span class="nb">str</span> <span class="k">else</span> <span class="mi">0</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">df</span><span class="p">[</span><span class="s">'CPU Temperature While Idle'</span><span class="p">]]</span>
<span class="n">df</span><span class="p">[</span><span class="s">'cpuwhileLoad'</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="nb">float</span><span class="p">(</span><span class="n">re</span><span class="o">.</span><span class="n">sub</span><span class="p">(</span><span class="s">"[^0-9^.]"</span><span class="p">,</span> <span class="s">""</span><span class="p">,</span> <span class="n">x</span><span class="p">))</span> <span class="k">if</span> <span class="nb">type</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="o">==</span> <span class="nb">str</span> <span class="k">else</span> <span class="mi">0</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">df</span><span class="p">[</span><span class="s">'CPU Temperature Under Load'</span><span class="p">]]</span>
</code></pre>
</div>

<p>I’ll revisit the PC builds data once we have a look at PC part data.</p>

<h2 id="part-data">Part Data</h2>

<p>Collecting data for individual parts followed the same process as collecting data for completed builds. Here are the counts of parts I collected by type:</p>

<table>
  <thead>
    <tr>
      <th style="text-align: center">Case</th>
      <th>-</th>
      <th style="text-align: center">CPU</th>
      <th>-</th>
      <th style="text-align: center">CPU Coooler</th>
      <th>-</th>
      <th style="text-align: center">Case Fan</th>
      <th>-</th>
      <th style="text-align: center">GPU</th>
      <th>-</th>
      <th style="text-align: center">Hard Drive</th>
      <th>-</th>
      <th style="text-align: center">Memory</th>
      <th>-</th>
      <th style="text-align: center">Monitor</th>
      <th>-</th>
      <th style="text-align: center">Motherboard</th>
      <th>-</th>
      <th style="text-align: center">PSU</th>
      <th>-</th>
      <th style="text-align: center">UPS</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: center">2774</td>
      <td> </td>
      <td style="text-align: center">886</td>
      <td> </td>
      <td style="text-align: center">730</td>
      <td> </td>
      <td style="text-align: center">1192</td>
      <td> </td>
      <td style="text-align: center">2996</td>
      <td> </td>
      <td style="text-align: center">1736</td>
      <td> </td>
      <td style="text-align: center">1700</td>
      <td> </td>
      <td style="text-align: center">600</td>
      <td> </td>
      <td style="text-align: center">2400</td>
      <td> </td>
      <td style="text-align: center">1434</td>
      <td> </td>
      <td style="text-align: center">300</td>
    </tr>
  </tbody>
</table>

<p>Here’s a quick look at the features I am interested in for each part:</p>

<ul>
  <li>Case
    <ul>
      <li>Color, Manufacturer, Name, Dimensions, Volume, Average Price, Type</li>
    </ul>
  </li>
  <li>CPU
    <ul>
      <li>Name, Manufacturer, Lithography, TDP, Operating Frequency, Boost Frequency, Core Count, Hyperthreading, Maximum Supported Memory, Average Price</li>
    </ul>
  </li>
  <li>CPU Cooler
    <ul>
      <li>Manufacturer, Maximum Noise Level, Maximum RPM, Liquid Cooled, Radiator Size, Bearing Type, Height</li>
    </ul>
  </li>
  <li>Case Fan
    <ul>
      <li>RPM</li>
    </ul>
  </li>
  <li>GPU
    <ul>
      <li>Memory (GB), NVIDIA/AMD, Clock Speed (MHz), Boost Clock Speed (MHz), Chipset, Manufacturer, TDP, Model</li>
    </ul>
  </li>
  <li>Hard Drive
    <ul>
      <li>Storage (GB), RPM, SSD/Spinning, Price/GB, Form Factor, Manufacturer</li>
    </ul>
  </li>
  <li>Memory
    <ul>
      <li>Manufacturer’, CAS, Price/GB, DDR3/DDR4, Speed, DIMM, Size (GB), Module Count, Module Size, Voltage</li>
    </ul>
  </li>
  <li>Monitor
    <ul>
      <li>Refresh rate, Response Time (ms), Screen Size, Viewing Angle, Aspect Ratio, Brightness, Display Colors, Manufacturer, LED, Recommended Resolution, Wide Screen, Curved Screen</li>
    </ul>
  </li>
  <li>Motherboard
    <ul>
      <li>Socket, Maximum Supported Memory, Memory Slots, Chipset</li>
    </ul>
  </li>
  <li>Power Supply Unit (PSU)
    <ul>
      <li>Modular, Power, Price/Watt, Manufacturer, Efficiency Certification</li>
    </ul>
  </li>
  <li>UPS
    <ul>
      <li>Charge time</li>
    </ul>
  </li>
</ul>

<p>There’s a lot of data for each part, some parts are missing a lot of price data. Each part has a list of vendors with prices that are in the same neighborhood. To impute missing prices on the <code class="highlighter-rouge">builds</code> DataFrame, I will be imputing the average price. For parts missing pricing data, where it makes sense, I’ll be using a few different methods to predict the average price (linear regression, decision tree, random forest) and then use those predicted values to fill missing on the <code class="highlighter-rouge">builds</code> DataFrame.</p>

<p>Here’s a link to one of the pages that I scraped with this script: <a href="https://pcpartpicker.com/product/MYH48d/corsair-memory-cmk16gx4m2b3000c15">https://pcpartpicker.com/product/MYH48d/corsair-memory-cmk16gx4m2b3000c15</a>. I was able to use this script for each type of part thanks to the consitent stucture and DOM naming scheme.</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">os</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="kn">as</span> <span class="nn">pd</span>
<span class="kn">from</span> <span class="nn">bs4</span> <span class="kn">import</span> <span class="n">BeautifulSoup</span>

<span class="c">#navigate to the directory containing HTML for PSUs</span>
<span class="n">os</span><span class="o">.</span><span class="n">chdir</span><span class="p">(</span><span class="s">"parts/PSU/parts/"</span><span class="p">)</span>
<span class="n">part_list</span> <span class="o">=</span> <span class="p">[]</span>
<span class="n">comments</span> <span class="o">=</span> <span class="p">[]</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">os</span><span class="o">.</span><span class="n">listdir</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">getcwd</span><span class="p">()):</span>
    <span class="n">a</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="s">'r'</span><span class="p">)</span>
    <span class="c">#print a.read()</span>
    <span class="n">b</span> <span class="o">=</span> <span class="n">BeautifulSoup</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>

    <span class="n">average_rating</span> <span class="o">=</span> <span class="n">b</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s">'span'</span><span class="p">,</span> <span class="n">attrs</span><span class="o">=</span><span class="p">{</span><span class="s">'itemprop'</span><span class="p">:</span> <span class="s">'ratingValue'</span><span class="p">})</span>
    <span class="n">ratings_count</span> <span class="o">=</span> <span class="n">b</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s">'span'</span><span class="p">,</span> <span class="n">attrs</span><span class="o">=</span><span class="p">{</span><span class="s">'itemprop'</span><span class="p">:</span><span class="s">'ratingCount'</span><span class="p">})</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">average_rating</span> <span class="o">!=</span> <span class="bp">None</span><span class="p">)</span> <span class="o">&amp;</span> <span class="p">(</span><span class="n">ratings_count</span> <span class="o">!=</span> <span class="bp">None</span><span class="p">):</span>
        <span class="n">ratings_dict</span> <span class="o">=</span> <span class="p">{</span><span class="s">'average_rating'</span><span class="p">:</span><span class="n">average_rating</span><span class="o">.</span><span class="n">text</span><span class="p">,</span> <span class="s">'ratings_count'</span><span class="p">:</span><span class="n">ratings_count</span><span class="o">.</span><span class="n">text</span><span class="p">}</span>
    
    <span class="c">#part name, kind and link</span>
    <span class="k">if</span> <span class="n">b</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s">'h4'</span><span class="p">,</span> <span class="n">attrs</span><span class="o">=</span><span class="p">{</span><span class="s">'class'</span><span class="p">:</span><span class="s">'kind'</span><span class="p">})</span> <span class="o">!=</span> <span class="bp">None</span><span class="p">:</span>
        <span class="n">kind</span> <span class="o">=</span> <span class="n">b</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s">'h4'</span><span class="p">,</span> <span class="n">attrs</span><span class="o">=</span><span class="p">{</span><span class="s">'class'</span><span class="p">:</span><span class="s">'kind'</span><span class="p">})</span><span class="o">.</span><span class="n">text</span>
        <span class="n">part_name</span> <span class="o">=</span> <span class="n">b</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s">'h1'</span><span class="p">,</span> <span class="n">attrs</span><span class="o">=</span><span class="p">{</span><span class="s">'class'</span><span class="p">:</span><span class="s">'name'</span><span class="p">})</span><span class="o">.</span><span class="n">text</span>
        <span class="n">link</span> <span class="o">=</span> <span class="n">b</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s">'input'</span><span class="p">,</span> <span class="n">attrs</span><span class="o">=</span><span class="p">{</span><span class="s">'name'</span><span class="p">:</span><span class="s">'url'</span><span class="p">})[</span><span class="s">'value'</span><span class="p">]</span>
        <span class="n">info_dict</span> <span class="o">=</span> <span class="p">{</span><span class="s">'Kind'</span><span class="p">:</span><span class="n">kind</span><span class="p">,</span> <span class="s">'Name'</span><span class="p">:</span><span class="n">part_name</span><span class="p">,</span> <span class="s">'Link'</span><span class="p">:</span> <span class="n">link</span><span class="p">}</span>

        <span class="c">#prices</span>
        <span class="k">if</span> <span class="n">b</span><span class="o">.</span><span class="n">find_all</span><span class="p">(</span><span class="s">'td'</span><span class="p">,</span> <span class="n">attrs</span><span class="o">=</span><span class="p">{</span><span class="s">'class'</span><span class="p">:</span><span class="s">'base'</span><span class="p">})</span> <span class="o">!=</span> <span class="bp">None</span><span class="p">:</span>
            <span class="n">price_list</span> <span class="o">=</span> <span class="n">b</span><span class="o">.</span><span class="n">find_all</span><span class="p">(</span><span class="s">'td'</span><span class="p">,</span> <span class="n">attrs</span><span class="o">=</span><span class="p">{</span><span class="s">'class'</span><span class="p">:</span><span class="s">'base'</span><span class="p">})</span>
            <span class="n">price_list</span> <span class="o">=</span> <span class="p">[</span><span class="nb">float</span><span class="p">(</span><span class="n">x</span><span class="o">.</span><span class="n">text</span><span class="o">.</span><span class="n">strip</span><span class="p">(</span><span class="s">'$'</span><span class="p">))</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">price_list</span><span class="p">]</span>
            <span class="c">#average_price = sum(price_list)/len(price_list)</span>
            <span class="n">price_dict</span> <span class="o">=</span> <span class="p">{</span><span class="s">'Prices'</span><span class="p">:</span><span class="n">price_list</span><span class="p">,}</span>

        <span class="c">#specs</span>
        <span class="n">spec_labels</span> <span class="o">=</span> <span class="n">b</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s">'div'</span><span class="p">,</span> <span class="n">attrs</span><span class="o">=</span><span class="p">{</span><span class="s">'class'</span><span class="p">:</span><span class="s">'specs block'</span><span class="p">})</span><span class="o">.</span><span class="n">find_all</span><span class="p">(</span><span class="s">'h4'</span><span class="p">)</span>
        <span class="n">spec_labels</span> <span class="o">=</span> <span class="p">[</span><span class="n">x</span><span class="o">.</span><span class="n">contents</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">spec_labels</span><span class="p">]</span>
        <span class="n">spec_values</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">b</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s">'div'</span><span class="p">,</span> <span class="n">attrs</span><span class="o">=</span><span class="p">{</span><span class="s">'class'</span><span class="p">:</span><span class="s">'specs block'</span><span class="p">}))</span>

        <span class="c">#this part was a little tricky since the values were placed outside of HTML tags</span>
        <span class="c">#thankfully I managed to figure out a pattern that would extract everything neatly</span>
        <span class="n">vals</span> <span class="o">=</span> <span class="p">[</span><span class="n">x</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s">'&lt;/h4&gt;'</span><span class="p">)[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">strip</span><span class="p">(</span><span class="s">'</span><span class="se">\n</span><span class="s">'</span><span class="p">)</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">spec_values</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s">"&lt;h4&gt;"</span><span class="p">)[</span><span class="mi">1</span><span class="p">:]]</span>
        <span class="n">vals</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">vals</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s">'</span><span class="se">\n</span><span class="s">'</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
        <span class="n">spec_values</span> <span class="o">=</span> <span class="n">vals</span>

        <span class="n">spec_values</span> <span class="o">=</span> <span class="n">spec_values</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="nb">len</span><span class="p">(</span><span class="n">spec_labels</span><span class="p">)</span><span class="o">+</span><span class="mi">1</span><span class="p">]</span>
        <span class="n">spec_dict</span> <span class="o">=</span> <span class="p">{</span><span class="n">spec_label</span><span class="p">:</span><span class="n">spec_value</span> <span class="k">for</span> <span class="n">spec_label</span><span class="p">,</span> <span class="n">spec_value</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">spec_labels</span><span class="p">,</span><span class="n">spec_values</span><span class="p">)}</span>

        <span class="n">part_dict</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="n">spec_dict</span><span class="o">.</span><span class="n">items</span><span class="p">()</span> <span class="o">+</span> <span class="n">info_dict</span><span class="o">.</span><span class="n">items</span><span class="p">()</span> <span class="o">+</span> <span class="n">price_dict</span><span class="o">.</span><span class="n">items</span><span class="p">()</span> <span class="o">+</span> <span class="n">ratings_dict</span><span class="o">.</span><span class="n">items</span><span class="p">())</span>
        <span class="n">part_list</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">part_dict</span><span class="p">)</span>

    <span class="c">#ratings</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">average_rating</span> <span class="o">!=</span> <span class="bp">None</span><span class="p">)</span> <span class="o">&amp;</span> <span class="p">(</span><span class="n">ratings_count</span> <span class="o">!=</span> <span class="bp">None</span><span class="p">):</span>
        <span class="n">ratings_dict</span> <span class="o">=</span> <span class="p">{</span><span class="s">'average_rating'</span><span class="p">:</span><span class="n">average_rating</span><span class="p">,</span> <span class="s">'ratings_count'</span><span class="p">:</span><span class="n">ratings_count</span><span class="p">}</span>
    <span class="n">reviews</span> <span class="o">=</span> <span class="n">b</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s">'div'</span><span class="p">,</span> <span class="n">attrs</span><span class="o">=</span><span class="p">{</span><span class="s">'class'</span><span class="p">:</span><span class="s">'part-reviews'</span><span class="p">})</span>
    <span class="k">if</span> <span class="n">reviews</span> <span class="o">!=</span> <span class="bp">None</span><span class="p">:</span>
        <span class="n">reviews</span> <span class="o">=</span> <span class="n">reviews</span><span class="o">.</span><span class="n">find_all</span><span class="p">(</span><span class="s">'div'</span><span class="p">,</span><span class="n">attrs</span><span class="o">=</span><span class="p">{</span><span class="s">'class'</span><span class="p">:</span><span class="s">'part-review-block'</span><span class="p">})</span>
        <span class="n">star_list</span> <span class="o">=</span> <span class="p">[</span><span class="nb">len</span><span class="p">(</span><span class="n">reviews</span><span class="p">[</span><span class="n">x</span><span class="p">]</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s">'ul'</span><span class="p">,</span><span class="n">attrs</span><span class="o">=</span><span class="p">{</span><span class="s">'class'</span><span class="p">:</span><span class="s">'stars'</span><span class="p">})</span><span class="o">.</span><span class="n">find_all</span><span class="p">(</span><span class="s">'li'</span><span class="p">,</span><span class="n">attrs</span><span class="o">=</span><span class="p">{</span><span class="s">'class'</span><span class="p">:</span><span class="s">'full-star'</span><span class="p">}))</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">reviews</span><span class="p">))]</span>

        <span class="n">comment_text_list</span> <span class="o">=</span> <span class="n">b</span><span class="o">.</span><span class="n">find_all</span><span class="p">(</span><span class="s">'div'</span><span class="p">,</span> <span class="n">attrs</span><span class="o">=</span><span class="p">{</span><span class="s">'class'</span><span class="p">:</span><span class="s">'comment-message markdown'</span><span class="p">})</span>
        <span class="n">comment_text_list</span> <span class="o">=</span> <span class="p">[</span><span class="n">comment_text_list</span><span class="p">[</span><span class="n">x</span><span class="p">]</span><span class="o">.</span><span class="n">find_all</span><span class="p">(</span><span class="s">'p'</span><span class="p">)</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">comment_text_list</span><span class="p">))]</span>

        <span class="n">comment_text_list_clean</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">x</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">comment_text_list</span><span class="p">):</span>
            <span class="n">comment</span> <span class="o">=</span> <span class="s">""</span>
            <span class="k">for</span> <span class="n">y</span> <span class="ow">in</span> <span class="n">x</span><span class="p">:</span>
                <span class="k">try</span><span class="p">:</span>
                    <span class="n">comment</span> <span class="o">+=</span> <span class="n">y</span><span class="o">.</span><span class="n">contents</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="s">" "</span>
                <span class="k">except</span><span class="p">:</span>
                    <span class="k">pass</span>
            <span class="n">comment_text_list_clean</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">comment</span><span class="p">)</span>

        <span class="n">review</span> <span class="o">=</span> <span class="nb">zip</span><span class="p">(</span><span class="n">star_list</span><span class="p">,</span> <span class="n">comment_text_list_clean</span><span class="p">)</span>
        <span class="n">comments</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">review</span><span class="p">)</span>

    <span class="n">a</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
    <span class="n">b</span><span class="o">.</span><span class="n">decompose</span><span class="p">()</span>

<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">part_list</span><span class="p">)</span>
</code></pre>
</div>

<h2 id="power-supply-unit-psu">Power Supply Unit (PSU)</h2>

<p>Each type of part required a bit of formatting, especially things measured in MHz/GHz and MB/GB, and specs with lots of missing values. Here’s a little bit of the cleaning I did for power supply units (PSUs).</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="c">#strip the word Watts from the Wattage specs</span>
<span class="n">df</span><span class="p">[</span><span class="s">'power'</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="nb">float</span><span class="p">(</span><span class="n">x</span><span class="o">.</span><span class="n">strip</span><span class="p">(</span><span class="s">'Watts'</span><span class="p">))</span> <span class="k">if</span> <span class="n">x</span> <span class="o">!=</span> <span class="s">''</span> <span class="k">else</span> <span class="mi">0</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">df</span><span class="o">.</span><span class="n">Wattage</span><span class="p">]</span>
<span class="c">#price per watt</span>
<span class="n">df</span><span class="p">[</span><span class="s">'ppw'</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="n">x</span><span class="o">/</span><span class="n">y</span> <span class="k">for</span> <span class="n">x</span><span class="p">,</span><span class="n">y</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">avg</span><span class="p">,</span> <span class="n">df</span><span class="o">.</span><span class="n">power</span><span class="p">)]</span>
<span class="c">#dictionary to translate efficiency ratings from text to integers</span>
<span class="n">eff_rank_mapping</span> <span class="o">=</span> <span class="p">{</span><span class="s">u'80+ Bronze'</span><span class="p">:</span><span class="mi">2</span><span class="p">,</span> <span class="s">u'80+ Gold'</span><span class="p">:</span><span class="mi">4</span><span class="p">,</span> <span class="s">u'80+'</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span> <span class="s">u'80+ Titanium'</span><span class="p">:</span><span class="mi">6</span><span class="p">,</span> <span class="s">u'80+ Platinum'</span><span class="p">:</span><span class="mi">5</span><span class="p">,</span> <span class="s">u'-'</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span> <span class="s">u'80+ Silver'</span><span class="p">:</span><span class="mi">3</span><span class="p">}</span>
<span class="c">#map efficiency ratings to integers</span>
<span class="n">df</span><span class="p">[</span><span class="s">'eff_rank'</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s">'Efficiency Certification'</span><span class="p">]</span><span class="o">.</span><span class="nb">map</span><span class="p">(</span><span class="n">eff_rank_mapping</span><span class="p">)</span>
</code></pre>
</div>

<p>Let’s take a look at some of the data we have so far:</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span><span class="mi">8</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">axis</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span><span class="mi">1800</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">500</span><span class="p">])</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s">'PSU Wattages vs. PSU Prices'</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">16</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s">'Wattage'</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">14</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s">'Price'</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">14</span><span class="p">)</span>
<span class="c">#colors = ['black', 'bronze', 'silver', 'gold', 'green', 'red']</span>
<span class="n">colors</span> <span class="o">=</span> <span class="p">[</span><span class="s">'#000000'</span><span class="p">,</span> <span class="s">'#cd7f32'</span><span class="p">,</span> <span class="s">'#CCCCCC'</span><span class="p">,</span> <span class="s">'#ffd700'</span><span class="p">,</span> <span class="s">'#00ff00'</span><span class="p">,</span> <span class="s">'#ff0000'</span><span class="p">]</span>

<span class="n">ef1</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="o">.</span><span class="n">eff_rank</span><span class="o">==</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">power</span><span class="p">,</span> <span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="o">.</span><span class="n">eff_rank</span><span class="o">==</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">avg</span><span class="p">,</span> <span class="n">color</span> <span class="o">=</span> <span class="n">colors</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">s</span><span class="o">=</span><span class="mi">50</span><span class="p">)</span>
<span class="n">ef2</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="o">.</span><span class="n">eff_rank</span><span class="o">==</span><span class="mi">2</span><span class="p">]</span><span class="o">.</span><span class="n">power</span><span class="p">,</span> <span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="o">.</span><span class="n">eff_rank</span><span class="o">==</span><span class="mi">2</span><span class="p">]</span><span class="o">.</span><span class="n">avg</span><span class="p">,</span> <span class="n">color</span> <span class="o">=</span> <span class="n">colors</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">s</span><span class="o">=</span><span class="mi">50</span><span class="p">)</span>
<span class="n">ef3</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="o">.</span><span class="n">eff_rank</span><span class="o">==</span><span class="mi">3</span><span class="p">]</span><span class="o">.</span><span class="n">power</span><span class="p">,</span> <span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="o">.</span><span class="n">eff_rank</span><span class="o">==</span><span class="mi">3</span><span class="p">]</span><span class="o">.</span><span class="n">avg</span><span class="p">,</span> <span class="n">color</span> <span class="o">=</span> <span class="n">colors</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span> <span class="n">s</span><span class="o">=</span><span class="mi">50</span><span class="p">)</span>
<span class="n">ef4</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="o">.</span><span class="n">eff_rank</span><span class="o">==</span><span class="mi">4</span><span class="p">]</span><span class="o">.</span><span class="n">power</span><span class="p">,</span> <span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="o">.</span><span class="n">eff_rank</span><span class="o">==</span><span class="mi">4</span><span class="p">]</span><span class="o">.</span><span class="n">avg</span><span class="p">,</span> <span class="n">color</span> <span class="o">=</span> <span class="n">colors</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span> <span class="n">s</span><span class="o">=</span><span class="mi">50</span><span class="p">)</span>
<span class="n">ef5</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="o">.</span><span class="n">eff_rank</span><span class="o">==</span><span class="mi">5</span><span class="p">]</span><span class="o">.</span><span class="n">power</span><span class="p">,</span> <span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="o">.</span><span class="n">eff_rank</span><span class="o">==</span><span class="mi">5</span><span class="p">]</span><span class="o">.</span><span class="n">avg</span><span class="p">,</span> <span class="n">color</span> <span class="o">=</span> <span class="n">colors</span><span class="p">[</span><span class="mi">4</span><span class="p">],</span> <span class="n">s</span><span class="o">=</span><span class="mi">50</span><span class="p">)</span>
<span class="n">ef6</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="o">.</span><span class="n">eff_rank</span><span class="o">==</span><span class="mi">6</span><span class="p">]</span><span class="o">.</span><span class="n">power</span><span class="p">,</span> <span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="o">.</span><span class="n">eff_rank</span><span class="o">==</span><span class="mi">6</span><span class="p">]</span><span class="o">.</span><span class="n">avg</span><span class="p">,</span> <span class="n">color</span> <span class="o">=</span> <span class="n">colors</span><span class="p">[</span><span class="mi">5</span><span class="p">],</span> <span class="n">s</span><span class="o">=</span><span class="mi">50</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">((</span><span class="n">ef1</span><span class="p">,</span> <span class="n">ef2</span><span class="p">,</span> <span class="n">ef3</span><span class="p">,</span> <span class="n">ef4</span><span class="p">,</span> <span class="n">ef5</span><span class="p">,</span> <span class="n">ef6</span><span class="p">),</span>
           <span class="p">(</span><span class="s">'80+'</span><span class="p">,</span> <span class="s">'80+ Bronze'</span><span class="p">,</span> <span class="s">'80+ Silver'</span><span class="p">,</span> <span class="s">'80+ Gold'</span><span class="p">,</span> <span class="s">'80+ Platinum'</span><span class="p">,</span> <span class="s">'80+ Titanium'</span><span class="p">),</span>
           <span class="n">title</span> <span class="o">=</span> <span class="s">'Efficiency Rating'</span><span class="p">,</span>
           <span class="n">scatterpoints</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span>
           <span class="n">loc</span><span class="o">=</span><span class="s">'upper left'</span><span class="p">,</span>
           <span class="n">ncol</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span>
           <span class="n">fontsize</span><span class="o">=</span><span class="mi">14</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xticks</span><span class="p">(</span><span class="n">fontsize</span><span class="o">=</span><span class="mi">14</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">yticks</span><span class="p">(</span><span class="n">fontsize</span><span class="o">=</span><span class="mi">14</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">expanduser</span><span class="p">(</span><span class="s">'~/Documents/GitHub/briancaffey.github.io/img/psu/watts_vs_price.png'</span><span class="p">))</span>
</code></pre>
</div>
<p><img src="/img/psu/watts_vs_price.png" alt="png" /></p>

<p>The data points along the x-axis are PSUs with no price data. There’s a pretty nice correlation between watts and price, and Efficiency Rating should help make price predictions even more accurate than using wattage alone. A quick and easy way to determine how influential each feature of our data is on the target variable (price) is to train the data on machine learning algorithm called a random forest.</p>

<p>Before we run the random forest, categorical variable values must be replaced with integer values and we also need to remove PSUs with missing values. Here’s a quick way to do that:</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="c">#all of the columns we will be working with</span>
<span class="n">cols</span> <span class="o">=</span> <span class="p">[</span><span class="s">u'power'</span><span class="p">,</span> <span class="s">u'eff_rank'</span><span class="p">,</span> <span class="s">u'ppw'</span><span class="p">,</span> <span class="s">u'Manufacturer'</span><span class="p">,</span> <span class="s">u'Modular'</span><span class="p">,</span> <span class="s">u'Type'</span><span class="p">,</span> <span class="s">u'avg'</span><span class="p">]</span>
<span class="c">#feature columns (doesn't include average price or price per watt)</span>
<span class="n">feature_cols</span> <span class="o">=</span> <span class="p">[</span><span class="s">u'power'</span><span class="p">,</span> <span class="s">u'eff_rank'</span><span class="p">,</span> <span class="s">u'Manufacturer'</span><span class="p">,</span> <span class="s">u'Modular'</span><span class="p">,</span> <span class="s">u'Type'</span><span class="p">]</span>
<span class="c">#drop null values and seperate X and y</span>
<span class="n">X</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">cols</span><span class="p">]</span><span class="o">.</span><span class="n">dropna</span><span class="p">()[</span><span class="n">feature_cols</span><span class="p">]</span>
<span class="n">y</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">cols</span><span class="p">]</span><span class="o">.</span><span class="n">dropna</span><span class="p">()</span><span class="o">.</span><span class="n">avg</span>
</code></pre>
</div>
<p>Running <code class="highlighter-rouge">print X.shape, y.shape</code> returns <code class="highlighter-rouge">((1100, 5), (1100,))</code>, so we have 1100 observations of PSUs with complete data. We started with 1434 observations of PSUs, so my goal is to make predictions on PSU prices for the values with missing price data. (There may not be good enough feature data to make these predictions, but we won’t worry about that for now). The next step is to map categorical variable values from strings to integers:</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="n">type_mapping</span> <span class="o">=</span> <span class="p">{</span><span class="n">x</span><span class="p">:</span><span class="n">y</span> <span class="k">for</span> <span class="n">x</span><span class="p">,</span><span class="n">y</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">Type</span><span class="o">.</span><span class="n">unique</span><span class="p">(),</span><span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">Type</span><span class="o">.</span><span class="n">unique</span><span class="p">())))}</span>
<span class="n">df</span><span class="o">.</span><span class="n">Type</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">Type</span><span class="o">.</span><span class="nb">map</span><span class="p">(</span><span class="n">type_mapping</span><span class="p">)</span>

<span class="n">modular_mapping</span> <span class="o">=</span> <span class="p">{</span><span class="n">x</span><span class="p">:</span><span class="n">y</span> <span class="k">for</span> <span class="n">x</span><span class="p">,</span><span class="n">y</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">Modular</span><span class="o">.</span><span class="n">unique</span><span class="p">(),</span><span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">Modular</span><span class="o">.</span><span class="n">unique</span><span class="p">())))}</span>
<span class="n">df</span><span class="o">.</span><span class="n">Modular</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">Modular</span><span class="o">.</span><span class="nb">map</span><span class="p">(</span><span class="n">modular_mapping</span><span class="p">)</span>

<span class="n">manufacturer_mapping</span> <span class="o">=</span> <span class="p">{</span><span class="n">x</span><span class="p">:</span><span class="n">y</span> <span class="k">for</span> <span class="n">x</span><span class="p">,</span><span class="n">y</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">Manufacturer</span><span class="o">.</span><span class="n">unique</span><span class="p">(),</span><span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">Manufacturer</span><span class="o">.</span><span class="n">unique</span><span class="p">())))}</span>
<span class="n">df</span><span class="o">.</span><span class="n">Manufacturer</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">Manufacturer</span><span class="o">.</span><span class="nb">map</span><span class="p">(</span><span class="n">manufacturer_mapping</span><span class="p">)</span>
</code></pre>
</div>

<p>Now we are ready to setup a random forest model. Here’s the description of a random forest regressor from <a href="http://scikit-learn.org/stable/modules/generated/sklearn.ensemble.RandomForestRegressor.html">scikit-learn.org</a>:
&gt; A random forest is a meta estimator that fits a number of classifying decision trees on various sub-samples of the dataset and use averaging to improve the predictive accuracy and control over-fitting.</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="kn">from</span> <span class="nn">sklearn.ensemble</span> <span class="kn">import</span> <span class="n">RandomForestRegressor</span>
<span class="n">rfreg</span> <span class="o">=</span> <span class="n">RandomForestRegressor</span><span class="p">(</span><span class="n">n_estimators</span><span class="o">=</span><span class="mi">150</span><span class="p">,</span> <span class="n">max_features</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span> <span class="n">oob_score</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">random_state</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
<span class="n">rfreg</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">X</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>
<span class="n">feature_importance</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s">'feature'</span><span class="p">:</span><span class="n">feature_cols</span><span class="p">,</span> <span class="s">'importance'</span><span class="p">:</span><span class="n">rfreg</span><span class="o">.</span><span class="n">feature_importances_</span><span class="p">})</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">by</span><span class="o">=</span><span class="s">'importance'</span><span class="p">,</span> <span class="n">ascending</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
</code></pre>
</div>

<p>The <code class="highlighter-rouge">feature_importance</code> dataframe assigns a percentage representing how important each feature is in predicting the target variable, price.</p>

<table>
  <thead>
    <tr>
      <th>feature</th>
      <th>importance</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>power</td>
      <td>0.674090</td>
    </tr>
    <tr>
      <td>eff_rank</td>
      <td>0.170238</td>
    </tr>
    <tr>
      <td>Manufacturer</td>
      <td>0.101809</td>
    </tr>
    <tr>
      <td>Modular</td>
      <td>0.033512</td>
    </tr>
    <tr>
      <td>Type</td>
      <td>0.020352</td>
    </tr>
  </tbody>
</table>

<p>Looking at feature importance is a quick way evaluate the relative strength of each feature in a model. The results here aren’t surprising: <code class="highlighter-rouge">power</code> is by far the most important feature, but <code class="highlighter-rouge">eff_rank</code> also has significant pull on the target variable (PSU price). The manufacturer, whether or not the PSU is modular and the type (form factor) are less important and could be ignored altogether in the next model.</p>

<p>We can dig a little bit deeper by searching for a <code class="highlighter-rouge">n_estimators</code> value that will minimize RMSE. <code class="highlighter-rouge">n_estimators</code> represents the number of decision trees used in the random forest regressor.</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="kn">from</span> <span class="nn">sklearn.cross_validation</span> <span class="kn">import</span> <span class="n">cross_val_score</span>

<span class="c">#list of values to try for n_estimators</span>
<span class="n">estimator_range</span> <span class="o">=</span> <span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">310</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>

<span class="c">#list to store the average RMSE for each value of n_estimators</span>
<span class="n">RMSE_scores</span> <span class="o">=</span> <span class="p">[]</span>

<span class="c">#use 5-fold cross-validation with each value of n_estimators</span>
<span class="k">for</span> <span class="n">estimator</span> <span class="ow">in</span> <span class="n">estimator_range</span><span class="p">:</span>
    <span class="n">rfreg</span> <span class="o">=</span> <span class="n">RandomForestRegressor</span><span class="p">(</span><span class="n">n_estimators</span><span class="o">=</span><span class="n">estimator</span><span class="p">,</span> <span class="n">random_state</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">MSE_scores</span> <span class="o">=</span> <span class="n">cross_val_score</span><span class="p">(</span><span class="n">rfreg</span><span class="p">,</span> <span class="n">X</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">cv</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">scoring</span><span class="o">=</span><span class="s">'mean_squared_error'</span><span class="p">)</span>
    <span class="n">RMSE_scores</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="o">-</span><span class="n">MSE_scores</span><span class="p">)))</span>

<span class="c"># plot n_estimators (x-axis) versus RMSE (y-axis)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">estimator_range</span><span class="p">,</span> <span class="n">RMSE_scores</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s">'n_estimators'</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s">'RMSE (lower is better)'</span><span class="p">)</span>
</code></pre>
</div>

<p><img src="/img/psu/n_est_vs_rmse.png" alt="png" /></p>

<p>This graph shows the error in the model for 30 different settings of the parameter <code class="highlighter-rouge">n_estimators</code>. However, each time we test a new <code class="highlighter-rouge">n_estimators</code> value we are caluculating the error using cross-validation. Cross-validataion, or K-fold cross-validation helps improve the accuracy of error estimation by averaging the results of <code class="highlighter-rouge">k</code> models. In the model above, we see that <code class="highlighter-rouge">cv=5</code>, so we are running the model 5 times for every value of <code class="highlighter-rouge">n_estimators</code>, for a total of 150 times.</p>

<p>To find the optimal value of <code class="highlighter-rouge">n_estimators</code> we search for the value with the lowest error:</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="nb">sorted</span><span class="p">(</span><span class="nb">zip</span><span class="p">(</span><span class="n">RMSE_scores</span><span class="p">,</span> <span class="n">estimator_range</span><span class="p">))[</span><span class="mi">0</span><span class="p">]</span>
</code></pre>
</div>
<p><code class="highlighter-rouge">(28.100834969072217, 160)</code></p>

<p>So, we get a slightly lower root mean squared error of 28.1 when we choose an <code class="highlighter-rouge">n_estimators</code> value of 160 (we started with <code class="highlighter-rouge">n_estimators</code> equal to 150).</p>

<p>By visualizing power and efficiency rating vs. price in the graph above, we can see the strong correlation between wattage and price, and we can observe some general trends between different efficiency certifications: for any given power rating 80+ Titanium is generally more expensive than 80+ Platinum, and 80+ Platinum is generally more expensive than 80+ Bronze. 80+ Gold PSU prices seem to range quite a bit, so let’s look at the distribution of 80+ Gold prices by manufacturer and form factor:</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="n">sns</span><span class="o">.</span><span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span><span class="mi">8</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s">'Average Price per Watt for 80+ Gold PSUs by Manufacturer'</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">14</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s">'Manufacturer'</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">14</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s">'Average Price per Watt'</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">14</span><span class="p">)</span>
<span class="n">df</span><span class="p">[(</span><span class="n">df</span><span class="p">[</span><span class="s">'Efficiency Certification'</span><span class="p">]</span><span class="o">==</span><span class="s">'80+ Gold'</span><span class="p">)</span><span class="o">&amp;</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">power</span><span class="o">&gt;</span><span class="mi">0</span><span class="p">)</span><span class="o">&amp;</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">avg</span><span class="o">&gt;</span><span class="mi">0</span><span class="p">)]</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s">'Manufacturer'</span><span class="p">)</span><span class="o">.</span><span class="n">ppw</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span><span class="o">.</span><span class="n">sort_values</span><span class="p">()</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">kind</span><span class="o">=</span><span class="s">'bar'</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">expanduser</span><span class="p">(</span><span class="s">'~/Documents/GitHub/briancaffey.github.io/img/psu/average_price_by_manufacturer.png'</span><span class="p">))</span>
</code></pre>
</div>

<p><img src="/img/psu/average_price_by_manufacturer.png" alt="png" /></p>

<p>The most expensive 80+ Gold PSUs are more than twice as expensive as the cheapest PSUs by price per watt. This could explain the significance that the random forest regressor attached to this feature.</p>

<p>Whether or not a PSU is modular refers to the connectivity of power cables that come out of the PSUs. Fully modular means you can unplug all of the cables from the back and plug in only what you need for your PC. Semi modular means that there is one cable you can’t unplug from the back (it is usually a 24-pin connector that plugs in to the motherboard), and other cables can be plugged in for graphics cards or other devices. ‘No’ means that all of the cables that you will need are permanently fixed to the PSU and you can’t unplug anything. Here’s a graph showing showing the distributions of price per watt by modular type (full, semi and none):</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="n">df</span><span class="p">[(</span><span class="n">df</span><span class="p">[</span><span class="s">'Efficiency Certification'</span><span class="p">]</span><span class="o">==</span><span class="s">'80+ Gold'</span><span class="p">)</span><span class="o">&amp;</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">avg</span><span class="o">&gt;</span><span class="mi">0</span><span class="p">)]</span><span class="o">.</span><span class="n">boxplot</span><span class="p">(</span><span class="n">column</span><span class="o">=</span><span class="s">'ppw'</span><span class="p">,</span> <span class="n">by</span><span class="o">=</span><span class="s">'Modular'</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span><span class="mi">8</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylim</span><span class="p">([</span><span class="mf">0.07</span><span class="p">,</span><span class="mf">0.3</span><span class="p">])</span>
<span class="n">plt</span><span class="o">.</span><span class="n">suptitle</span><span class="p">(</span><span class="s">''</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s">'Price per Watt'</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">14</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s">'Price per Watt distributions of 80+ Gold PSUs by Modular Type'</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">14</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xticks</span><span class="p">(</span><span class="n">fontsize</span><span class="o">=</span><span class="mi">13</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">yticks</span><span class="p">(</span><span class="n">fontsize</span><span class="o">=</span><span class="mi">13</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">expanduser</span><span class="p">(</span><span class="s">'~/Documents/GitHub/briancaffey.github.io/img/psu/price_by_modular.png'</span><span class="p">))</span>
</code></pre>
</div>

<p><img src="/img/psu/price_by_modular.png" alt="png" /></p>

<p>The distributions aren’t surprising: fully-modular is more expensive than semi-modular, and semi-modular PSUs are more expensive than PSUs that are not modular. However, there is quite a bit of overlap in the prices of each modular type, so this feature only contributes roughly 3% of importance for predicting the price of PSUs with the random forest regressor model.</p>

<h2 id="motherboard">Motherboard</h2>

<p>Motherboards are a critical part of any PC build. This component determines the compatability for most of the other components in a PC build, such as memory type, CPU socket, SSD drives types and SLI/CrossFire configurations (we’ll get to what these mean soon).</p>

<p>There are a lot of features to choose from, and most of the features in <code class="highlighter-rouge">motherboard_csv.csv</code> are categorical variables, some containing over 100 unique values. We can use <code class="highlighter-rouge">df.groupby()</code> to look popular combinations of motherboard features. There are 26 CPU socket types, 11 different form factors and 14 memory slot types. There are a total of 60 unique combinations for these three motherboard features, the combinations with the most motherboards are shown below along with average prices:</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="n">df</span><span class="p">[(</span><span class="n">df</span><span class="o">.</span><span class="n">avg</span><span class="o">&gt;</span><span class="mi">0</span><span class="p">)]</span><span class="o">.</span><span class="n">groupby</span><span class="p">([</span><span class="s">'Memory Slots'</span><span class="p">,</span><span class="s">'Form Factor'</span><span class="p">,</span> <span class="s">'socket'</span><span class="p">])</span><span class="o">.</span><span class="n">avg</span><span class="o">.</span><span class="n">agg</span><span class="p">([</span><span class="s">'mean'</span><span class="p">,</span> <span class="s">'count'</span><span class="p">])</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">by</span><span class="o">=</span><span class="s">'count'</span><span class="p">,</span> <span class="n">ascending</span><span class="o">=</span><span class="bp">False</span><span class="p">)[:</span><span class="mi">30</span><span class="p">]</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">kind</span><span class="o">=</span><span class="s">'bar'</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">4</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s">'Prices and counts for top 30 Memory Slot, Form Factor and Socket combinations'</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s">'Memory Slot, Form Factor and Socket combinations'</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">()</span>
</code></pre>
</div>

<p><img src="/img/motherboard/features_vs_price.png" alt="png" /></p>

<p>Of the 2400 motherboards in the dataset, there is price information for only 618 motherboards. The average motherboard price is $157.50. Here’s a visualizations of motherboard prices:</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span><span class="mi">8</span><span class="p">))</span>
<span class="n">df</span><span class="p">[(</span><span class="n">df</span><span class="o">.</span><span class="n">avg</span><span class="o">!=</span><span class="mi">0</span><span class="p">)</span><span class="o">&amp;</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">avg</span><span class="o">&lt;</span><span class="mi">750</span><span class="p">)]</span><span class="o">.</span><span class="n">avg</span><span class="o">.</span><span class="n">hist</span><span class="p">(</span><span class="n">bins</span><span class="o">=</span><span class="mi">30</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s">'Motherboard prices'</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">14</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s">'Price'</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">14</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s">'Count'</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">14</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xticks</span><span class="p">(</span><span class="n">fontsize</span><span class="o">=</span><span class="mi">13</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">yticks</span><span class="p">(</span><span class="n">fontsize</span><span class="o">=</span><span class="mi">13</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">expanduser</span><span class="p">(</span><span class="s">'~/Documents/GitHub/briancaffey.github.io/img/motherboard/price_histogram.png'</span><span class="p">))</span>
</code></pre>
</div>

<p><img src="/img/motherboard/price_histogram.png" alt="png" /></p>

<p>Another feature that may be indicative of price is SLI support. Here’s a description of SLI from a <a href="http://superuser.com/questions/562631/what-does-sli-ready-mean-and-how-do-i-use-it">superuser</a> forum post:</p>

<blockquote>
  <p>Scalable Link Interface (SLI) is a brand name for a multi-GPU solution developed by NVIDIA for linking two or more video cards together to produce a single output. SLI is an application of parallel processing for computer graphics, meant to increase the processing power available for graphics.</p>
</blockquote>

<p>The <code class="highlighter-rouge">SLI Support</code> feature values include NaN, Yes, 3 and 4. Intuition tells me that a motherboard supporting 4 graphics cards will be more expensive than motherboard supporing only graphics cards.</p>

<p>Here’s a look at motherboard prices by <code class="highlighter-rouge">SLI Support</code>:</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="o">.</span><span class="n">avg</span><span class="o">&gt;</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">boxplot</span><span class="p">(</span><span class="n">column</span><span class="o">=</span><span class="s">'avg'</span><span class="p">,</span> <span class="n">by</span><span class="o">=</span><span class="s">'SLI Support'</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span><span class="mi">8</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylim</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span><span class="mi">650</span><span class="p">])</span>
<span class="n">plt</span><span class="o">.</span><span class="n">suptitle</span><span class="p">(</span><span class="s">''</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s">'Motherboard Prices by SLI Support'</span><span class="p">,</span><span class="n">fontsize</span><span class="o">=</span><span class="mi">14</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s">'SLI Support'</span><span class="p">,</span><span class="n">fontsize</span><span class="o">=</span><span class="mi">14</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s">'Price'</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">14</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xticks</span><span class="p">(</span><span class="n">fontsize</span><span class="o">=</span><span class="mi">13</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">yticks</span><span class="p">(</span><span class="n">fontsize</span><span class="o">=</span><span class="mi">13</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">expanduser</span><span class="p">(</span><span class="s">'~/Documents/GitHub/briancaffey.github.io/img/motherboard/SLI_prices.png'</span><span class="p">))</span>
</code></pre>
</div>

<p><img src="/img/motherboard/SLI_prices.png" alt="png" /></p>

<h2 id="cpu">CPU</h2>

<p>CPU price and performance are determined by several features, so I’ll go through them one by one and show interesting relationships among different features and between features and price.</p>

<h1 id="lithography">Lithography</h1>

<p>One interesting feature of CPUs that distinguishes Intel and AMD (the two CPU manufacturers) is <em>lithography</em>. Lithography can be described as the average space between a processor’s transistors, and it is an important factor that determines clock speed and power consumption. This graph shows lithography vs. CPU price for CPUs priced under $750:</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span><span class="mi">4</span><span class="p">))</span>
<span class="n">sns</span><span class="o">.</span><span class="n">set_style</span><span class="p">(</span><span class="s">'whitegrid'</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">axis</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span><span class="mi">70</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">750</span><span class="p">])</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s">'Lithography'</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">14</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s">'CPU Lithography and Price'</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">14</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s">'Price'</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">14</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="o">.</span><span class="n">Manufacturer</span><span class="o">==</span><span class="s">"Intel"</span><span class="p">]</span><span class="o">.</span><span class="n">Lithography</span><span class="p">,</span> <span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="o">.</span><span class="n">Manufacturer</span><span class="o">==</span><span class="s">"Intel"</span><span class="p">]</span><span class="o">.</span><span class="n">avg</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=.</span><span class="mi">2</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s">'blue'</span><span class="p">,</span> <span class="n">s</span><span class="o">=</span><span class="mi">50</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="o">.</span><span class="n">Manufacturer</span><span class="o">==</span><span class="s">"AMD"</span><span class="p">]</span><span class="o">.</span><span class="n">Lithography</span><span class="p">,</span> <span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="o">.</span><span class="n">Manufacturer</span><span class="o">==</span><span class="s">"AMD"</span><span class="p">]</span><span class="o">.</span><span class="n">avg</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=.</span><span class="mi">2</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s">'red'</span><span class="p">,</span> <span class="n">s</span><span class="o">=</span><span class="mi">50</span> <span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">([</span><span class="s">'Intel'</span><span class="p">,</span><span class="s">'AMD'</span><span class="p">],</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">14</span><span class="p">)</span>
</code></pre>
</div>

<p><img src="/img/cpu/lith_vs_price.png" alt="png" /></p>

<p>Intel’s 22 nm and 14 nm lithography set it apart from AMD. From what I understand, AMD contracts its semi-conducter fabrication to other companies and Intel has its own advanced fabrication processes.</p>

<h1 id="clock-speed-cpu-cores">Clock speed, CPU cores</h1>

<p>CPU speed is measured in clock cycles. A clock cycle is the amount of time between two pulses of an oscillator (something that goes back and forth), and it helps determine the amount of instructions that the CPU can execute per second. Clock cycles used to be the best way to measure the speed of a CPU, but developments around 2005 in CPU architecture (and computer applications) have added other important features that must be considered alongside clock speed when determining the power of a PC.</p>

<p>Engineers had difficulty increasing clock speeds, so they started to develop multi-core processors. It’s helpful to think of CPUs and CPUs cores like a kitchen. A single-core CPU is like a CPU with one cook, and is limited by how fast the cook can make food. Adding cores to a CPU can be thought of as adding cooks to the kitchen. The cooks don’t get faster, but the productivity of the kitchen increases. Here’s a look at the distribution of clock speeds by CPU:</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="n">df</span><span class="p">[(</span><span class="n">df</span><span class="o">.</span><span class="n">cores</span><span class="o">&gt;</span><span class="mi">0</span><span class="p">)</span><span class="o">&amp;</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">avg</span><span class="o">&gt;</span><span class="mi">0</span><span class="p">)]</span><span class="o">.</span><span class="n">boxplot</span><span class="p">(</span><span class="n">column</span><span class="o">=</span><span class="s">'opfreq'</span><span class="p">,</span> <span class="n">by</span><span class="o">=</span><span class="s">'cores'</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span><span class="mi">8</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">suptitle</span><span class="p">(</span><span class="s">''</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s">'CPU Operating Frequency by Core count'</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">14</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s">'CPU Core count'</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">14</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s">'Clock speed (MHz)'</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">14</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xticks</span><span class="p">(</span><span class="n">fontsize</span><span class="o">=</span><span class="mi">13</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">yticks</span><span class="p">(</span><span class="n">fontsize</span><span class="o">=</span><span class="mi">13</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">expanduser</span><span class="p">(</span><span class="s">'~/Documents/GitHub/briancaffey.github.io/img/cpu/speed_vs_cores.png'</span><span class="p">))</span>
</code></pre>
</div>

<p><img src="/img/cpu/speed_vs_cores.png" alt="png" /></p>

<p>So once there are 22 cooks in the kitchen, everyone has to go slower, but the team of cooks can easily handle things that would totally swamp an individual cook, like rendering 4K video while live-streaming a AAA title at 1080p60.</p>

<p>You have to pay for each cook, so the core count has a big impact on CPU price:</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="n">df</span><span class="p">[(</span><span class="n">df</span><span class="o">.</span><span class="n">cores</span><span class="o">&gt;</span><span class="mi">0</span><span class="p">)</span><span class="o">&amp;</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">avg</span><span class="o">&gt;</span><span class="mi">0</span><span class="p">)]</span><span class="o">.</span><span class="n">boxplot</span><span class="p">(</span><span class="n">column</span><span class="o">=</span><span class="s">'avg'</span><span class="p">,</span> <span class="n">by</span><span class="o">=</span><span class="s">'cores'</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span><span class="mi">8</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">suptitle</span><span class="p">(</span><span class="s">''</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s">'CPU Prices by Core count'</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">14</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s">'CPU Core count'</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">14</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s">'Prices'</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">14</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xticks</span><span class="p">(</span><span class="n">fontsize</span><span class="o">=</span><span class="mi">13</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">yticks</span><span class="p">(</span><span class="n">fontsize</span><span class="o">=</span><span class="mi">13</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">expanduser</span><span class="p">(</span><span class="s">'~/Documents/GitHub/briancaffey.github.io/img/cpu/price_by_core.png'</span><span class="p">))</span>
</code></pre>
</div>

<p><img src="/img/cpu/price_by_core.png" alt="png" /></p>

<p>A kitchen with 22 cooks gets very hot in the same way that a CPU with 22 cores generates a lot of heat. The next graph shows how much heat (measured in something called TDP, or thermal design power) CPUs generate by core count:</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="n">df</span><span class="o">.</span><span class="n">boxplot</span><span class="p">(</span><span class="n">column</span><span class="o">=</span><span class="s">'TDP'</span><span class="p">,</span> <span class="n">by</span><span class="o">=</span><span class="s">'Cores'</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span><span class="mi">8</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">suptitle</span><span class="p">(</span><span class="s">''</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylim</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">200</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s">'Thermal Design Power by Core count'</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">14</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s">'Cores'</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">14</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s">'Thermal Design Power (Watts)'</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">14</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xticks</span><span class="p">(</span><span class="n">fontsize</span><span class="o">=</span><span class="mi">13</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">yticks</span><span class="p">(</span><span class="n">fontsize</span><span class="o">=</span><span class="mi">13</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">expanduser</span><span class="p">(</span><span class="s">'~/Documents/GitHub/briancaffey.github.io/img/cpu/tdp_by_cores.png'</span><span class="p">))</span>
</code></pre>
</div>

<p><img src="/img/cpu/tdp_by_cores.png" alt="png" /></p>

<h1 id="thermal-design-power-tdp">Thermal Design Power (TDP)</h1>

<p>Here is a desrciption of TDP from the <a href="https://en.wikipedia.org/wiki/Thermal_design_power">Wikipedia article on Thermal Design Power</a>:</p>

<blockquote>
  <p>The thermal design power (TDP), sometimes called thermal design point, is the maximum amount of heat generated by a computer chip or component (often the CPU or GPU) that the cooling system in a computer is designed to dissipate in typical operation.</p>
</blockquote>

<p>This is a specification for any type of processor and it is measured in joules per second (or watts) produced by the CPU while it performs a computationally intensive task. Each point on the following scatter plot shows core clock and boost clock speeds with color representing TDP:</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span><span class="mi">8</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">subplot</span><span class="p">(</span><span class="mi">111</span><span class="p">)</span>
<span class="n">df1</span> <span class="o">=</span> <span class="n">df</span><span class="p">[(</span><span class="n">df</span><span class="o">.</span><span class="n">opfreq</span><span class="o">&gt;</span><span class="mi">0</span><span class="p">)</span><span class="o">&amp;</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">turbo</span><span class="o">&gt;</span><span class="mi">0</span><span class="p">)]</span>
<span class="n">plt</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">df1</span><span class="o">.</span><span class="n">opfreq</span><span class="p">,</span> <span class="n">df1</span><span class="o">.</span><span class="n">turbo</span> <span class="p">,</span><span class="n">c</span><span class="o">=</span><span class="n">df1</span><span class="o">.</span><span class="n">TDP</span><span class="p">,</span> <span class="n">s</span><span class="o">=</span><span class="mi">60</span><span class="p">,</span> <span class="n">cmap</span><span class="o">=</span><span class="s">'Blues'</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">colorbar</span><span class="p">(</span><span class="n">label</span><span class="o">=</span><span class="s">'Thermal Design Power'</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s">'Core clock vs. Boost clock and TDP (color)'</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">14</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s">'Boost clock (MHz)'</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">14</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s">'Core clock (MHz)'</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">14</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">axis</span><span class="p">([</span><span class="mi">1500</span><span class="p">,</span><span class="mi">5000</span><span class="p">,</span><span class="mi">1500</span><span class="p">,</span><span class="mi">5000</span><span class="p">])</span>
</code></pre>
</div>

<p><img src="/img/cpu/core_v_boost.png" alt="png" /></p>

<p>Here are two more graphs that show the relationship between clock speed, core count, TDP and price:</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span><span class="mi">8</span><span class="p">))</span>
<span class="n">df2</span> <span class="o">=</span> <span class="n">df</span><span class="p">[(</span><span class="n">df</span><span class="o">.</span><span class="n">avg</span><span class="o">&gt;</span><span class="mi">0</span><span class="p">)</span><span class="o">&amp;</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s">'Hyper-Threading'</span><span class="p">]</span><span class="o">==</span><span class="s">"Yes"</span><span class="p">)]</span>
<span class="n">plt</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">df2</span><span class="o">.</span><span class="n">opfreq</span><span class="p">,</span> <span class="n">df2</span><span class="o">.</span><span class="n">Cores</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="n">df2</span><span class="o">.</span><span class="n">avg</span><span class="p">,</span> <span class="n">s</span><span class="o">=</span><span class="n">df2</span><span class="o">.</span><span class="n">TDP</span><span class="o">*</span><span class="mi">2</span><span class="p">,</span> <span class="n">cmap</span><span class="o">=</span><span class="s">'Blues'</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">colorbar</span><span class="p">(</span><span class="n">label</span><span class="o">=</span><span class="s">'Price'</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s">'Frequency vs. Core count for </span><span class="se">\n</span><span class="s"> Color: Price; Size:TPD'</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">14</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s">'Cores'</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">14</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s">'Operating Frequency'</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">14</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xticks</span><span class="p">(</span><span class="n">fontsize</span><span class="o">=</span><span class="mi">13</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">yticks</span><span class="p">(</span><span class="n">fontsize</span><span class="o">=</span><span class="mi">13</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">expanduser</span><span class="p">(</span><span class="s">'~/Documents/GitHub/briancaffey.github.io/img/cpu/freq_v_cores.png'</span><span class="p">))</span>
</code></pre>
</div>

<p><img src="/img/cpu/freq_v_cores.png" alt="png" /></p>

<p>The CPUs shown in the graph above are all Intel CPUs that utilize a proprietary technology called hyper-threading. Hyper-threading is a new feature on CPUs that allows them to better schedule the tasks that they do so that they can minimize the time the need to wait for information to process. Another good analogy I have heard to explain hyper-threading is eating M&amp;Ms as fast as possible with one hand vs. two hands. Hyper-threading is like using two hands to eat M&amp;Ms, while you are eating an M&amp;M with your left hand, your right hand is retrieving the next M&amp;M from the bowl. Here is the same data with price on the y-axis and core count by color:</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span><span class="mi">8</span><span class="p">))</span>
<span class="n">df2</span> <span class="o">=</span> <span class="n">df</span><span class="p">[(</span><span class="n">df</span><span class="o">.</span><span class="n">avg</span><span class="o">&gt;</span><span class="mi">0</span><span class="p">)</span><span class="o">&amp;</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s">'Hyper-Threading'</span><span class="p">]</span><span class="o">==</span><span class="s">"Yes"</span><span class="p">)]</span>
<span class="n">plt</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">df2</span><span class="o">.</span><span class="n">opfreq</span><span class="p">,</span> <span class="n">df2</span><span class="o">.</span><span class="n">avg</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="n">df2</span><span class="o">.</span><span class="n">Cores</span><span class="p">,</span> <span class="n">s</span><span class="o">=</span><span class="n">df2</span><span class="o">.</span><span class="n">TDP</span><span class="o">*</span><span class="mi">2</span><span class="p">,</span> <span class="n">cmap</span><span class="o">=</span><span class="s">'Blues'</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">colorbar</span><span class="p">(</span><span class="n">label</span><span class="o">=</span><span class="s">'Cores'</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s">'Frequency vs. Price and TPD (diameter)'</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">14</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s">'Price'</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">14</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s">'Operating Frequency'</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">14</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xticks</span><span class="p">(</span><span class="n">fontsize</span><span class="o">=</span><span class="mi">13</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">yticks</span><span class="p">(</span><span class="n">fontsize</span><span class="o">=</span><span class="mi">13</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">expanduser</span><span class="p">(</span><span class="s">'~/Documents/GitHub/briancaffey.github.io/img/cpu/freq_v_price.png'</span><span class="p">))</span>
</code></pre>
</div>
<p><img src="/img/cpu/freq_v_price.png" alt="png" /></p>

<h1 id="cpu-cooler">CPU Cooler</h1>

<p>To manage the small amount of heat that is generated at each clock cycle it is necessary to direct heat away from the CPU. This brings us to CPU coolers, the next major class of PC components. Cooling a CPU is achieved with large blocks of aluminum that are attached to the CPU with thermal paste. Aluminum conducts heat well, so the heat is dispersed into fins and the fins are then cooled with fans, or a liquid passes over the cooling block and is sent through a radiator which is cooled with fans.</p>

<p>Here’s a comparison of the number of liquid vs. non-liquid CPU coolers broken down by price:</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span><span class="mi">8</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">hist</span><span class="p">(</span><span class="n">df</span><span class="p">[(</span><span class="n">df</span><span class="o">.</span><span class="n">avg</span><span class="o">&gt;</span><span class="mi">0</span><span class="p">)</span><span class="o">&amp;</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">liquid</span><span class="o">==</span><span class="s">"No"</span><span class="p">)]</span><span class="o">.</span><span class="n">avg</span><span class="p">,</span> <span class="n">bins</span> <span class="o">=</span> <span class="mi">30</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=.</span><span class="mi">75</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s">'Non-liquid Cooler'</span><span class="p">)</span>
<span class="n">df</span><span class="p">[(</span><span class="n">df</span><span class="o">.</span><span class="n">avg</span><span class="o">&gt;</span><span class="mi">0</span><span class="p">)</span><span class="o">&amp;</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">liquid</span><span class="o">==</span><span class="s">"Yes"</span><span class="p">)]</span><span class="o">.</span><span class="n">avg</span><span class="o">.</span><span class="n">hist</span><span class="p">(</span><span class="n">bins</span><span class="o">=</span><span class="mi">30</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=.</span><span class="mi">75</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s">'Liquid Cooler'</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">loc</span><span class="o">=</span><span class="s">'upper right'</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">14</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s">'Count of Liquid and Non-Liquid CPU Coolers'</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">14</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s">'Price'</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">14</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s">'Count'</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">14</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xticks</span><span class="p">(</span><span class="n">fontsize</span><span class="o">=</span><span class="mi">13</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">yticks</span><span class="p">(</span><span class="n">fontsize</span><span class="o">=</span><span class="mi">13</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">expanduser</span><span class="p">(</span><span class="s">'~/Documents/GitHub/briancaffey.github.io/img/cpu_cooler/prices_hist.png'</span><span class="p">))</span>
</code></pre>
</div>

<p><img src="/img/cpu_cooler/prices_hist.png" alt="png" /></p>

<p>Liquid coolers come with radiators in five different sizes. This chart shows average prices for liquid coolrs by radiator length:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>df[df.liquid=="Yes"].groupby('rad_size').avg.agg(['mean', 'count']).sort_values('count', ascending=False).plot(kind='bar', figsize=(12,8), rot=0)
plt.title('CPU Cooler Price and Count by radiator size', fontsize=14)
plt.legend(loc='upper left', fontsize=14)
plt.xlabel('Radiator Size (mm)', fontsize=14)
plt.xticks(fontsize=13)
plt.yticks(fontsize=13)
plt.savefig(os.path.expanduser('~/Documents/GitHub/briancaffey.github.io/img/cpu_cooler/rad_vs_price.png'))
</code></pre>
</div>

<p><img src="/img/cpu_cooler/rad_vs_price.png" alt="png" /></p>

<p>Non-liquid coolers can be quite large and bulky to allow for more heat dispersion. Here’s a scatterplot showing CPU cooler height and prices:</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="n">df1</span> <span class="o">=</span> <span class="n">df</span><span class="p">[(</span><span class="n">df</span><span class="o">.</span><span class="n">avg</span><span class="o">&gt;</span><span class="mi">0</span><span class="p">)</span><span class="o">&amp;</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">cooler_height</span><span class="o">&gt;</span><span class="mi">0</span><span class="p">)]</span>
<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span><span class="mi">8</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">df1</span><span class="o">.</span><span class="n">cooler_height</span><span class="p">,</span> <span class="n">df1</span><span class="o">.</span><span class="n">avg</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s">'CPU Height vs. Price (Non-liquid CPU Coolers only)'</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">14</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s">'CPU Cooler Height (mm)'</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">14</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s">'Price'</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">14</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xticks</span><span class="p">(</span><span class="n">fontsize</span><span class="o">=</span><span class="mi">13</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">yticks</span><span class="p">(</span><span class="n">fontsize</span><span class="o">=</span><span class="mi">13</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">expanduser</span><span class="p">(</span><span class="s">'~/Documents/GitHub/briancaffey.github.io/img/cpu_cooler/cooler_height.png'</span><span class="p">))</span>
</code></pre>
</div>

<p><img src="/img/cpu_cooler/cooler_height.png" alt="png" /></p>

<p>Here’s one more graph on non-liquid coolers showing the relationship between maximum fan RPM and the maximum level of noise generated by the cooler:</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span><span class="mi">8</span><span class="p">))</span>
<span class="n">df1</span> <span class="o">=</span> <span class="n">df</span><span class="p">[(</span><span class="n">df</span><span class="o">.</span><span class="n">liquid</span><span class="o">==</span><span class="s">'No'</span><span class="p">)</span><span class="o">&amp;</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">avg</span><span class="o">&gt;</span><span class="mi">0</span><span class="p">)]</span>
<span class="n">plt</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">df1</span><span class="o">.</span><span class="n">rpm_max</span><span class="p">,</span> <span class="n">df1</span><span class="o">.</span><span class="n">max_noise</span><span class="p">,</span> <span class="n">s</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span> <span class="n">c</span> <span class="o">=</span> <span class="n">df1</span><span class="o">.</span><span class="n">avg</span><span class="p">,</span> <span class="n">cmap</span><span class="o">=</span><span class="s">'Blues'</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">colorbar</span><span class="p">(</span><span class="n">label</span><span class="o">=</span><span class="s">'Price'</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">axis</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span><span class="mi">7500</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">60</span><span class="p">])</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s">'Maximum RPM'</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">14</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s">'Maximum Noise'</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">14</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s">'Maximum RPM vs. Maximum Noise and Price (color)'</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">14</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xticks</span><span class="p">(</span><span class="n">fontsize</span><span class="o">=</span><span class="mi">13</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">yticks</span><span class="p">(</span><span class="n">fontsize</span><span class="o">=</span><span class="mi">13</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">expanduser</span><span class="p">(</span><span class="s">'~/Documents/GitHub/briancaffey.github.io/img/cpu_cooler/rpm_vs_noise.png'</span><span class="p">))</span>
</code></pre>
</div>

<p><img src="/img/cpu_cooler/rpm_vs_noise.png" alt="png" /></p>

<h1 id="memory">Memory</h1>

<p>Memory is another important PC component that is particularlly important for content creators working with large video files. Memory speed and type are also important for benchmarking performed by hard-core PC gaming. PC memory is analogous to the space on your desk whereas hard drive disks are like file cabinets behind your desk. Things stored in memory can be accessed very quickly, but if you don’t have enough memory then papers will start falling off of your desk and your application will crash becuase it won’t be able to find what it is looking for, or won’t have any space to put new information that it may need.</p>

<p>Here’s a linear regression that captures the relationship between memory size and price:</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="kn">from</span> <span class="nn">sklearn.linear_model</span> <span class="kn">import</span> <span class="n">LinearRegression</span>
<span class="n">lreg</span> <span class="o">=</span> <span class="n">LinearRegression</span><span class="p">()</span>
<span class="n">df1</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="o">.</span><span class="n">avg</span><span class="o">&gt;</span><span class="mi">0</span><span class="p">]</span>
<span class="n">feat_cols</span> <span class="o">=</span> <span class="p">[</span><span class="s">u'size_gb'</span><span class="p">]</span>
<span class="n">X</span> <span class="o">=</span> <span class="n">df1</span><span class="p">[</span><span class="n">feat_cols</span><span class="p">]</span>
<span class="n">y</span> <span class="o">=</span> <span class="n">df1</span><span class="o">.</span><span class="n">avg</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="n">df1</span><span class="o">.</span><span class="n">size_gb</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="mi">1</span><span class="p">)</span>
<span class="n">lreg</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">X</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">sample_weight</span><span class="o">=</span><span class="bp">None</span><span class="p">)</span>

<span class="c">#plot memory size vs. price</span>
<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span><span class="mi">8</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="o">.</span><span class="n">avg</span><span class="o">&gt;</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">size_gb</span><span class="p">,</span> <span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="o">.</span><span class="n">avg</span><span class="o">&gt;</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">avg</span><span class="p">,</span> <span class="n">s</span> <span class="o">=</span> <span class="mi">100</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=.</span><span class="mo">05</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">axis</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span><span class="mi">130</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1100</span><span class="p">])</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s">'Memory Kit prices by Size (GB)'</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">14</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s">'Memory Kit Size (GB)'</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">14</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s">'Price'</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">14</span><span class="p">)</span>

<span class="c">#plot regression line</span>
<span class="n">size</span> <span class="o">=</span> <span class="n">df1</span><span class="o">.</span><span class="n">size_gb</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="n">df1</span><span class="o">.</span><span class="n">size_gb</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="mi">1</span><span class="p">)</span>
<span class="n">pred</span> <span class="o">=</span> <span class="n">lreg</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">df1</span><span class="o">.</span><span class="n">size_gb</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="n">df1</span><span class="o">.</span><span class="n">size_gb</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="mi">1</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">size</span> <span class="p">,</span><span class="n">pred</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s">'red'</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">expanduser</span><span class="p">(</span><span class="s">'~/Documents/GitHub/briancaffey.github.io/img/memory/size_vs_price.png'</span><span class="p">))</span>
</code></pre>
</div>

<p><img src="/img/memory/size_vs_price.png" alt="png" /></p>

<p>The R^2 value from the regression is 0.767, which means that 76 percent of the variation in the data is explained by the model. The variation might come from the fact that there are two important features that differentiate regular memory from enthusiast-grade memory: memory speed and CAS.</p>

<p>Memory module speed is measured in megatransfers per second (MT/s). Here is a graph of memory speeds vs. prices:</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span><span class="mi">8</span><span class="p">))</span>
<span class="n">a</span><span class="o">=.</span><span class="mi">5</span>
<span class="n">s</span><span class="o">=</span><span class="mi">75</span>

<span class="n">ddr2_speed</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">ddr_speed</span><span class="p">[(</span><span class="n">df</span><span class="o">.</span><span class="n">ddr_type</span> <span class="o">==</span> <span class="s">'DDR2'</span><span class="p">)</span><span class="o">&amp;</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">size_gb</span><span class="o">==</span><span class="mi">8</span><span class="p">)</span><span class="o">&amp;</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">ddr_speed</span><span class="o">&gt;</span><span class="mi">0</span><span class="p">)</span><span class="o">&amp;</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">avg</span><span class="o">&gt;</span><span class="mi">0</span><span class="p">)]</span>
<span class="n">ddr2_ppgb</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">ppgb</span><span class="p">[(</span><span class="n">df</span><span class="o">.</span><span class="n">ddr_type</span> <span class="o">==</span> <span class="s">'DDR2'</span><span class="p">)</span><span class="o">&amp;</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">size_gb</span><span class="o">==</span><span class="mi">8</span><span class="p">)</span><span class="o">&amp;</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">ddr_speed</span><span class="o">&gt;</span><span class="mi">0</span><span class="p">)</span><span class="o">&amp;</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">avg</span><span class="o">&gt;</span><span class="mi">0</span><span class="p">)]</span>
<span class="n">plt</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">ddr2_speed</span><span class="p">,</span><span class="n">ddr2_ppgb</span><span class="p">,</span><span class="n">alpha</span> <span class="o">=</span> <span class="n">a</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="s">'red'</span><span class="p">,</span> <span class="n">s</span><span class="o">=</span><span class="n">s</span><span class="p">)</span>

<span class="n">ddr3_speed</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">ddr_speed</span><span class="p">[(</span><span class="n">df</span><span class="o">.</span><span class="n">ddr_type</span> <span class="o">==</span> <span class="s">'DDR3'</span><span class="p">)</span><span class="o">&amp;</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">size_gb</span><span class="o">==</span><span class="mi">8</span><span class="p">)</span><span class="o">&amp;</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">ddr_speed</span><span class="o">&gt;</span><span class="mi">0</span><span class="p">)</span><span class="o">&amp;</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">avg</span><span class="o">&gt;</span><span class="mi">0</span><span class="p">)]</span>
<span class="n">ddr3_ppgb</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">ppgb</span><span class="p">[(</span><span class="n">df</span><span class="o">.</span><span class="n">ddr_type</span> <span class="o">==</span> <span class="s">'DDR3'</span><span class="p">)</span><span class="o">&amp;</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">size_gb</span><span class="o">==</span><span class="mi">8</span><span class="p">)</span><span class="o">&amp;</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">ddr_speed</span><span class="o">&gt;</span><span class="mi">0</span><span class="p">)</span><span class="o">&amp;</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">avg</span><span class="o">&gt;</span><span class="mi">0</span><span class="p">)]</span>
<span class="n">plt</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">ddr3_speed</span><span class="p">,</span><span class="n">ddr3_ppgb</span><span class="p">,</span><span class="n">alpha</span> <span class="o">=</span> <span class="n">a</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="s">'yellow'</span><span class="p">,</span> <span class="n">s</span><span class="o">=</span><span class="n">s</span><span class="p">)</span>

<span class="n">ddr4_speed</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">ddr_speed</span><span class="p">[(</span><span class="n">df</span><span class="o">.</span><span class="n">ddr_type</span> <span class="o">==</span> <span class="s">'DDR4'</span><span class="p">)</span><span class="o">&amp;</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">size_gb</span><span class="o">==</span><span class="mi">8</span><span class="p">)</span><span class="o">&amp;</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">ddr_speed</span><span class="o">&gt;</span><span class="mi">0</span><span class="p">)</span><span class="o">&amp;</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">avg</span><span class="o">&gt;</span><span class="mi">0</span><span class="p">)]</span>
<span class="n">ddr4_ppgb</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">ppgb</span><span class="p">[(</span><span class="n">df</span><span class="o">.</span><span class="n">ddr_type</span> <span class="o">==</span> <span class="s">'DDR4'</span><span class="p">)</span><span class="o">&amp;</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">size_gb</span><span class="o">==</span><span class="mi">8</span><span class="p">)</span><span class="o">&amp;</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">ddr_speed</span><span class="o">&gt;</span><span class="mi">0</span><span class="p">)</span><span class="o">&amp;</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">avg</span><span class="o">&gt;</span><span class="mi">0</span><span class="p">)]</span>
<span class="n">plt</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">ddr4_speed</span><span class="p">,</span><span class="n">ddr4_ppgb</span><span class="p">,</span><span class="n">alpha</span> <span class="o">=</span> <span class="n">a</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="s">'green'</span><span class="p">,</span> <span class="n">s</span><span class="o">=</span><span class="n">s</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">axis</span><span class="p">([</span><span class="mi">500</span><span class="p">,</span><span class="mi">4000</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">25</span><span class="p">])</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s">'Memory Speed (MT/s)'</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">14</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s">'Price per GB'</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">14</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s">"Memory Speed vs. Price"</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">14</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">([</span><span class="s">'DDR2'</span><span class="p">,</span> <span class="s">'DDR3'</span><span class="p">,</span> <span class="s">'DDR4'</span><span class="p">],</span> <span class="n">loc</span><span class="o">=</span><span class="s">'lower right'</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">14</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xticks</span><span class="p">(</span><span class="n">fontsize</span><span class="o">=</span><span class="mi">13</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">yticks</span><span class="p">(</span><span class="n">fontsize</span><span class="o">=</span><span class="mi">13</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">expanduser</span><span class="p">(</span><span class="s">'~/Documents/GitHub/briancaffey.github.io/img/memory/speed_vs_price.png'</span><span class="p">))</span>
</code></pre>
</div>

<p><img src="/img/memory/speed_vs_price.png" alt="png" /></p>

<p>CAS stands for column access strobe (CAS) latency, and it is the delay time between the moment a memory controller tells the memory module to access a particular memory column on a RAM module, and the moment the data from the given array location is available on the module’s output pins (from the <a href="https://en.wikipedia.org/wiki/CAS_latency">Wikipedia article on CAS latency</a>).</p>

<p>On synchronous dynamic random-access memory modules like the ones used in modern PCs, CAS is measured in clock cycles and ranges from 4 to 20. Here’s a look at memory speeds and their CAS latency:</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span><span class="mi">8</span><span class="p">))</span>
<span class="n">s</span> <span class="o">=</span> <span class="mi">100</span>
<span class="n">a</span> <span class="o">=</span> <span class="mf">0.1</span>

<span class="c">#plot ddr3</span>
<span class="n">ddr3_cas</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">CAS</span><span class="p">[(</span><span class="n">df</span><span class="o">.</span><span class="n">is_ddr4</span> <span class="o">==</span> <span class="bp">False</span><span class="p">)</span><span class="o">&amp;</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">avg</span><span class="o">&gt;</span><span class="mi">0</span><span class="p">)]</span>
<span class="n">ddr3_speed</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">ddr_speed</span><span class="p">[(</span><span class="n">df</span><span class="o">.</span><span class="n">is_ddr4</span> <span class="o">==</span> <span class="bp">False</span><span class="p">)</span><span class="o">&amp;</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">avg</span><span class="o">&gt;</span><span class="mi">0</span><span class="p">)]</span>
<span class="n">plt</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">ddr3_cas</span><span class="p">,</span><span class="n">ddr3_speed</span><span class="p">,</span> <span class="n">c</span> <span class="o">=</span> <span class="s">'blue'</span><span class="p">,</span> <span class="n">s</span><span class="o">=</span><span class="n">s</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="n">a</span><span class="p">)</span>

<span class="c">#plot ddr4</span>
<span class="n">ddr4_cas</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">CAS</span><span class="p">[(</span><span class="n">df</span><span class="o">.</span><span class="n">is_ddr4</span> <span class="o">==</span> <span class="bp">True</span><span class="p">)</span><span class="o">&amp;</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">avg</span><span class="o">&gt;</span><span class="mi">0</span><span class="p">)]</span>
<span class="n">ddr4_speed</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">ddr_speed</span><span class="p">[(</span><span class="n">df</span><span class="o">.</span><span class="n">is_ddr4</span> <span class="o">==</span> <span class="bp">True</span><span class="p">)</span><span class="o">&amp;</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">avg</span><span class="o">&gt;</span><span class="mi">0</span><span class="p">)]</span>
<span class="n">plt</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">ddr4_cas</span><span class="p">,</span><span class="n">ddr4_speed</span><span class="p">,</span> <span class="n">c</span> <span class="o">=</span> <span class="s">'red'</span><span class="p">,</span> <span class="n">s</span> <span class="o">=</span> <span class="n">s</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="n">a</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s">'CAS'</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">14</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s">'Speed (MHz)'</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">14</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s">"CAS vs. Clock Speed"</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">14</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xticks</span><span class="p">(</span><span class="n">fontsize</span><span class="o">=</span><span class="mi">13</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">yticks</span><span class="p">(</span><span class="n">fontsize</span><span class="o">=</span><span class="mi">13</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">([</span><span class="s">'DDR3'</span><span class="p">,</span> <span class="s">'DDR4'</span><span class="p">],</span> <span class="n">loc</span><span class="o">=</span><span class="s">'upper left'</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">13</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">expanduser</span><span class="p">(</span><span class="s">'~/Documents/GitHub/briancaffey.github.io/img/memory/cas_vs_speed.png'</span><span class="p">))</span>
</code></pre>
</div>

<p><img src="/img/memory/cas_vs_speed.png" alt="png" /></p>

<p>It’s a misconception that faster memory has higher latency, because CAS is not actually a good representation of memory’s latency. This is because it is measured in clock cycles, which become smaller as the memory clock speed increases. Here’s how the math for memory and true latency works out:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>true latency (nanoseconds) = clock cycle time (nanoseconds) x CAS (clock cycles)
</code></pre>
</div>
<p>So here’s how we can calculate true latency using the data in the dataset:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>#filter for DDR4 memory with valid CAS
df_lat = df[(df.CAS&gt;0)&amp;(df.ddr_speed&gt;0)&amp;(df.ddr_type=='DDR4')]
df_lat['true_latency'] = [((x/2.)/1000.)*y for x, y in zip(df_lat.ddr_speed, df_lat.CAS)]
</code></pre>
</div>

<p>Let’s calculate the true latency of two different memory modules: DDR4-2666/CAS18 and DDR3-1333/CAS9.</p>

<p>The ‘DDR’ in DDR memory stands for <em>double data rate</em>, which means that information is transfared twice per clock cycle. Because of this, we must first take the MT/s rate and divide by 2 to calculate the clock speed. Next we need to find how long each clock cycle takes. To find this amount of time we can divide 1 by the frequency. Finally we multiply the time of one clock cycle by the CAS (the latency in number cycles) to get the latency in seconds (nanoseconds):</p>

<div class="highlighter-rouge"><pre class="highlight"><code>DDR4-2666
2666 MT/s
2666000000 T/s
1333000000 Hz
1/(1333000000 Hz)
0.00000000075 s
0.75 nanoseconds = 1 clock cycle

true latency = clock cycle x CAS
true latency = 0.75 ns x 18
true latency = 13.5 nanoseconds

DDR3-1333
1333 MT/s
1333000000 T/s
666500000 Hz
1/(666500000 Hz)
0.0000000015 seconds
1.5 nanoseconds = 1 clock cycle

true latency = clock cycle x CAS
true latency = 1.5 ns x 9
true latency = 13.5 nanoseconds
</code></pre>
</div>

<p>Here’s an <a href="http://www.crucial.com/usa/en/memory-performance-speed-latency">article</a> from Crucial, a major memory manufacturer, that explains this idea fully. The main conclusion is that speed is more important than memory, but the two measurements must be considered together.</p>

<p>The equation for <code class="highlighter-rouge">true_latency</code> above divides half the DDR MT/s rate by 1000 to both multiply by 10^6 (for converting MT/s to T/s) and divide by 10^9 (for converting seconds to nano seconds).</p>

<p>Here’s a histogram of true latency for DDR4 memory modules:</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="n">df_lat</span> <span class="o">=</span> <span class="n">df</span><span class="p">[(</span><span class="n">df</span><span class="o">.</span><span class="n">CAS</span><span class="o">&gt;</span><span class="mi">0</span><span class="p">)</span><span class="o">&amp;</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">ddr_speed</span><span class="o">&gt;</span><span class="mi">0</span><span class="p">)</span><span class="o">&amp;</span><span class="p">((</span><span class="n">df</span><span class="o">.</span><span class="n">ddr_type</span><span class="o">==</span><span class="s">'DDR4'</span><span class="p">)</span><span class="o">|</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">ddr_type</span><span class="o">==</span><span class="s">'DDR3'</span><span class="p">))]</span>
<span class="n">df_lat</span><span class="p">[</span><span class="s">'true_latency'</span><span class="p">]</span> <span class="o">=</span> <span class="p">[((</span><span class="n">x</span><span class="o">/</span><span class="mf">2.</span><span class="p">)</span><span class="o">/</span><span class="mf">1000.</span><span class="p">)</span><span class="o">*</span><span class="n">y</span> <span class="k">for</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">df_lat</span><span class="o">.</span><span class="n">ddr_speed</span><span class="p">,</span> <span class="n">df_lat</span><span class="o">.</span><span class="n">CAS</span><span class="p">)]</span>
<span class="n">df_lat</span><span class="o">.</span><span class="n">true_latency</span><span class="o">.</span><span class="n">hist</span><span class="p">(</span><span class="n">bins</span><span class="o">=</span><span class="mi">25</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span><span class="mi">8</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s">'True Latency (nanoseconds)'</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">14</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s">'Count'</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">14</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s">"Histogram for True Latency of DDR3 and DDR4 Memory modules"</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">14</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xticks</span><span class="p">(</span><span class="n">fontsize</span><span class="o">=</span><span class="mi">13</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">yticks</span><span class="p">(</span><span class="n">fontsize</span><span class="o">=</span><span class="mi">13</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">expanduser</span><span class="p">(</span><span class="s">'~/Documents/GitHub/briancaffey.github.io/img/memory/true_latency.png'</span><span class="p">))</span>
</code></pre>
</div>

<p><img src="/img/memory/true_latency.png" alt="png" /></p>

<p>Here’s an graph from the Crucial article showing speed vs true latency:</p>

<p><img src="/img/memory/crucial_latency.png" alt="png" /></p>

<p>And here is a similar graph from our dataset:</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="n">df_lat</span> <span class="o">=</span> <span class="n">df</span><span class="p">[(</span><span class="n">df</span><span class="o">.</span><span class="n">CAS</span><span class="o">&gt;</span><span class="mi">0</span><span class="p">)</span><span class="o">&amp;</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">ddr_speed</span><span class="o">&gt;</span><span class="mi">0</span><span class="p">)</span><span class="o">&amp;</span><span class="p">((</span><span class="n">df</span><span class="o">.</span><span class="n">ddr_type</span><span class="o">==</span><span class="s">'DDR4'</span><span class="p">)</span><span class="o">|</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">ddr_type</span><span class="o">==</span><span class="s">'DDR3'</span><span class="p">))]</span>
<span class="n">df_lat</span><span class="p">[</span><span class="s">'true_latency'</span><span class="p">]</span> <span class="o">=</span> <span class="p">[((</span><span class="n">x</span><span class="o">/</span><span class="mf">2.</span><span class="p">)</span><span class="o">/</span><span class="mf">1000.</span><span class="p">)</span><span class="o">*</span><span class="n">y</span> <span class="k">for</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">df_lat</span><span class="o">.</span><span class="n">ddr_speed</span><span class="p">,</span> <span class="n">df_lat</span><span class="o">.</span><span class="n">CAS</span><span class="p">)]</span>
<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span><span class="mi">8</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">df_lat</span><span class="o">.</span><span class="n">ddr_speed</span><span class="p">,</span> <span class="n">df_lat</span><span class="o">.</span><span class="n">true_latency</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s">'Memory Speed (MT/s)'</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">14</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s">'True Latency (nanoseconds)'</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">14</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s">'Memory Speed vs. True Latency (nanoseconds) for DDR3 and DDR4 memory'</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">14</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xticks</span><span class="p">(</span><span class="n">fontsize</span><span class="o">=</span><span class="mi">13</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">yticks</span><span class="p">(</span><span class="n">fontsize</span><span class="o">=</span><span class="mi">13</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">expanduser</span><span class="p">(</span><span class="s">'~/Documents/GitHub/briancaffey.github.io/img/memory/speed_vs_true_latency.png'</span><span class="p">))</span>
</code></pre>
</div>

<p><img src="/img/memory/speed_vs_true_latency.png" alt="png" /></p>

<p>Here’s another look at memory prices, showing memory module prices and price per GB of memory:</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span><span class="mi">8</span><span class="p">))</span>
<span class="n">s_8</span> <span class="o">=</span> <span class="n">df1</span><span class="p">[</span><span class="n">df1</span><span class="o">.</span><span class="n">size_gb</span><span class="o">==</span><span class="mi">8</span><span class="p">]</span>
<span class="n">s_16</span> <span class="o">=</span> <span class="n">df1</span><span class="p">[</span><span class="n">df1</span><span class="o">.</span><span class="n">size_gb</span><span class="o">==</span><span class="mi">16</span><span class="p">]</span>
<span class="n">s_32</span> <span class="o">=</span> <span class="n">df1</span><span class="p">[</span><span class="n">df1</span><span class="o">.</span><span class="n">size_gb</span><span class="o">==</span><span class="mi">32</span><span class="p">]</span>
<span class="n">s_4</span> <span class="o">=</span> <span class="n">df1</span><span class="p">[</span><span class="n">df1</span><span class="o">.</span><span class="n">size_gb</span><span class="o">==</span><span class="mi">4</span><span class="p">]</span>
<span class="n">s_64</span> <span class="o">=</span> <span class="n">df1</span><span class="p">[</span><span class="n">df1</span><span class="o">.</span><span class="n">size_gb</span><span class="o">==</span><span class="mi">64</span><span class="p">]</span>
<span class="n">s_2</span> <span class="o">=</span> <span class="n">df1</span><span class="p">[</span><span class="n">df1</span><span class="o">.</span><span class="n">size_gb</span><span class="o">==</span><span class="mi">2</span><span class="p">]</span>

<span class="n">plt</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">s_2</span><span class="o">.</span><span class="n">avg</span><span class="p">,</span> <span class="n">s_2</span><span class="o">.</span><span class="n">ppgb</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="s">'orange'</span><span class="p">,</span> <span class="n">s</span><span class="o">=</span><span class="mi">50</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">s_4</span><span class="o">.</span><span class="n">avg</span><span class="p">,</span> <span class="n">s_4</span><span class="o">.</span><span class="n">ppgb</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="s">'red'</span><span class="p">,</span> <span class="n">s</span><span class="o">=</span><span class="mi">50</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">s_8</span><span class="o">.</span><span class="n">avg</span><span class="p">,</span> <span class="n">s_8</span><span class="o">.</span><span class="n">ppgb</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="s">'black'</span><span class="p">,</span> <span class="n">s</span><span class="o">=</span><span class="mi">50</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">s_16</span><span class="o">.</span><span class="n">avg</span><span class="p">,</span> <span class="n">s_16</span><span class="o">.</span><span class="n">ppgb</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="s">'green'</span><span class="p">,</span> <span class="n">s</span><span class="o">=</span><span class="mi">50</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">s_32</span><span class="o">.</span><span class="n">avg</span><span class="p">,</span> <span class="n">s_32</span><span class="o">.</span><span class="n">ppgb</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="s">'blue'</span><span class="p">,</span> <span class="n">s</span><span class="o">=</span><span class="mi">50</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">s_64</span><span class="o">.</span><span class="n">avg</span><span class="p">,</span> <span class="n">s_64</span><span class="o">.</span><span class="n">ppgb</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="s">'yellow'</span><span class="p">,</span> <span class="n">s</span><span class="o">=</span><span class="mi">50</span><span class="p">)</span>


<span class="n">plt</span><span class="o">.</span><span class="n">axis</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span><span class="mi">600</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">30</span><span class="p">])</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s">'Memory Kit Price vs. Price per GB'</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">14</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s">'Memory Kit Price'</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">14</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s">'Memory Kit Price per GB'</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">14</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xticks</span><span class="p">(</span><span class="n">fontsize</span><span class="o">=</span><span class="mi">13</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">yticks</span><span class="p">(</span><span class="n">fontsize</span><span class="o">=</span><span class="mi">13</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">([</span><span class="s">'2GB'</span><span class="p">,</span><span class="s">'4GB'</span><span class="p">,</span> <span class="s">'8GB'</span><span class="p">,</span> <span class="s">'16GB'</span><span class="p">,</span> <span class="s">'32GB'</span><span class="p">,</span> <span class="s">'64GB'</span><span class="p">],</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">14</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">expanduser</span><span class="p">(</span><span class="s">'~/Documents/GitHub/briancaffey.github.io/img/memory/price_vs_ppgb.png'</span><span class="p">))</span>
</code></pre>
</div>

<p><img src="/img/memory/price_vs_ppgb.png" alt="png" /></p>

<p>This graph shows the variation in price for the most popular memrory kit sizes, and it also shows the variation in pricing data. The price per GB corresponds to one price (which is usually the lowest listed price) and the price is the average of all vendors’ prices.</p>

<p>One more thing to note about DDR3 and DDR4 is that DDR4 requires lower voltage:</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="n">df3</span> <span class="o">=</span> <span class="n">df</span><span class="p">[(</span><span class="n">df</span><span class="o">.</span><span class="n">voltage</span><span class="o">&gt;</span><span class="mi">0</span><span class="p">)]</span>
<span class="n">df</span><span class="o">.</span><span class="n">boxplot</span><span class="p">(</span><span class="n">column</span><span class="o">=</span><span class="s">'voltage'</span><span class="p">,</span> <span class="n">by</span><span class="o">=</span><span class="s">'ddr_type'</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span> <span class="mi">8</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">suptitle</span><span class="p">(</span><span class="s">''</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s">'Voltage for DDR2, DDR3 and DDR4'</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">14</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylim</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s">'Memory Type'</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">14</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s">'Voltage'</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">14</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xticks</span><span class="p">(</span><span class="n">fontsize</span><span class="o">=</span><span class="mi">13</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">yticks</span><span class="p">(</span><span class="n">fontsize</span><span class="o">=</span><span class="mi">13</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">expanduser</span><span class="p">(</span><span class="s">'~/Documents/GitHub/briancaffey.github.io/img/memory/voltage.png'</span><span class="p">))</span>
</code></pre>
</div>

<p><img src="/img/memory/voltage.png" alt="png" /></p>

<h1 id="video-card--graphics-card--gpu">Video Card / Graphics Card / GPU</h1>

<p>Video cards are often the single biggest expense for high-end PCs. They deliver parallel computing performance that is necessary for modern applications like 4K gaming, virtual reality and deep learning. Like the CPU market, the GPU market is dominated by two major players: NVIDIA and AMD. These companies produce graphical processing units, but there are a number of vendors who sell graphics cards using the core chipsets provided by NVIDIA and AMD (and these two companies also sell their own consumer products).</p>

<p>GPUs are attached to the motherboard by PC expansion slots as well as the rear of the case where their display connections are exposed. One GPU metric is the number of DisplayPort type connections. GPUs that support multi-screen setups have higher performance and therefor higher cost, and in general the more screens it can support the more costly the card will be. Here’s a breakdown of prices by the number of DisplayPort connections:</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="n">df</span><span class="p">[</span><span class="s">'DisplayPort_count'</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s">'DisplayPort'</span><span class="p">]</span><span class="o">.</span><span class="n">fillna</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="n">df</span><span class="p">[(</span><span class="n">df</span><span class="o">.</span><span class="n">avg</span><span class="o">&gt;</span><span class="mi">0</span><span class="p">)]</span><span class="o">.</span><span class="n">boxplot</span><span class="p">(</span><span class="n">column</span><span class="o">=</span><span class="s">'avg'</span><span class="p">,</span> <span class="n">by</span><span class="o">=</span><span class="s">'DisplayPort_count'</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span><span class="mi">8</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylim</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">2000</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">suptitle</span><span class="p">(</span><span class="s">''</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s">'GPU Prices by Display Port Connections'</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">14</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s">'DisplayPort Connections'</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">14</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s">'Prices'</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">14</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xticks</span><span class="p">(</span><span class="n">fontsize</span><span class="o">=</span><span class="mi">13</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">yticks</span><span class="p">(</span><span class="n">fontsize</span><span class="o">=</span><span class="mi">13</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">expanduser</span><span class="p">(</span><span class="s">'~/Documents/GitHub/briancaffey.github.io/img/gpu/prices_by_display.png'</span><span class="p">))</span>
</code></pre>
</div>

<p><img src="/img/gpu/prices_by_display.png" alt="png" /></p>

<p>GPUs also sometimes the largest components, here’s a histogram for the height of all GPUs:</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span><span class="mi">8</span><span class="p">))</span>
<span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="o">.</span><span class="n">gpu_length</span><span class="o">&gt;</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">gpu_length</span><span class="o">.</span><span class="n">hist</span><span class="p">(</span><span class="n">bins</span><span class="o">=</span><span class="mi">25</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s">'GPU Length'</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">14</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s">'Length (inches)'</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">14</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s">'Count'</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">14</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xticks</span><span class="p">(</span><span class="n">fontsize</span><span class="o">=</span><span class="mi">13</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">yticks</span><span class="p">(</span><span class="n">fontsize</span><span class="o">=</span><span class="mi">13</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">expanduser</span><span class="p">(</span><span class="s">'~/Documents/GitHub/briancaffey.github.io/img/gpu/length_hist.png'</span><span class="p">))</span>
</code></pre>
</div>

<p><img src="/img/gpu/length_hist.png" alt="png" /></p>

<p>Length is an interesting feature, because you can pack more GPUs into a graphics card that is larger, and you can also have more fans and cooling equipment on larger cards. Here’s a look at the relationship between video card length, price, memory and clock speed:</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span><span class="mi">8</span><span class="p">))</span>
<span class="n">df_len</span> <span class="o">=</span> <span class="n">df</span><span class="p">[(</span><span class="n">df</span><span class="o">.</span><span class="n">avg</span><span class="o">&gt;</span><span class="mi">0</span><span class="p">)</span><span class="o">&amp;</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">gpu_length</span><span class="o">&gt;</span><span class="mi">0</span><span class="p">)]</span>
<span class="n">plt</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">df_len</span><span class="o">.</span><span class="n">gpu_length</span><span class="p">,</span> <span class="n">df_len</span><span class="o">.</span><span class="n">avg</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="n">df_len</span><span class="o">.</span><span class="n">memory_mb</span><span class="p">,</span> <span class="n">cmap</span><span class="o">=</span><span class="s">'CMRmap'</span><span class="p">,</span> <span class="n">s</span><span class="o">=</span><span class="n">df_len</span><span class="o">.</span><span class="n">clock_speed_in_mhz</span><span class="o">/</span><span class="mi">4</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">colorbar</span><span class="p">(</span><span class="n">label</span><span class="o">=</span><span class="s">'Memory (MB)'</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">axis</span><span class="p">([</span><span class="mi">5</span><span class="p">,</span><span class="mi">14</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">3300</span><span class="p">])</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s">'GPU Length vs. Price, Memory (color) and Clockspeed (diameter)'</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">14</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s">'Graphics Card Length (inches)'</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">14</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s">'Price'</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">14</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xticks</span><span class="p">(</span><span class="n">fontsize</span><span class="o">=</span><span class="mi">13</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">yticks</span><span class="p">(</span><span class="n">fontsize</span><span class="o">=</span><span class="mi">13</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">expanduser</span><span class="p">(</span><span class="s">'~/Documents/GitHub/briancaffey.github.io/img/gpu/length_vs_price.png'</span><span class="p">))</span>
</code></pre>
</div>

<p><img src="/img/gpu/length_vs_price.png" alt="png" /></p>

<p>And here is another look at the same data, filtered for graphics cards under $1,100:</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span><span class="mi">8</span><span class="p">))</span>
<span class="n">df_len</span> <span class="o">=</span> <span class="n">df</span><span class="p">[(</span><span class="n">df</span><span class="o">.</span><span class="n">avg</span><span class="o">&gt;</span><span class="mi">0</span><span class="p">)</span><span class="o">&amp;</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">gpu_length</span><span class="o">&gt;</span><span class="mi">0</span><span class="p">)</span><span class="o">&amp;</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">memory_mb</span><span class="o">&lt;</span><span class="mi">12000</span><span class="p">)]</span>
<span class="n">plt</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">df_len</span><span class="o">.</span><span class="n">gpu_length</span><span class="p">,</span> <span class="n">df_len</span><span class="o">.</span><span class="n">avg</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="n">df_len</span><span class="o">.</span><span class="n">memory_mb</span><span class="p">,</span> <span class="n">cmap</span><span class="o">=</span><span class="s">'CMRmap'</span><span class="p">,</span> <span class="n">s</span><span class="o">=</span><span class="n">df_len</span><span class="o">.</span><span class="n">clock_speed_in_mhz</span><span class="o">/</span><span class="mi">4</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">colorbar</span><span class="p">(</span><span class="n">label</span><span class="o">=</span><span class="s">'Memory (MB)'</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">axis</span><span class="p">([</span><span class="mi">5</span><span class="p">,</span><span class="mi">14</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1100</span><span class="p">])</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s">'GPU Length vs. Price, Memory and Clockspeed (diameter)'</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">14</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s">'Graphics Card Length (inches)'</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">14</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s">'Price'</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">14</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xticks</span><span class="p">(</span><span class="n">fontsize</span><span class="o">=</span><span class="mi">13</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">yticks</span><span class="p">(</span><span class="n">fontsize</span><span class="o">=</span><span class="mi">13</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">expanduser</span><span class="p">(</span><span class="s">'~/Documents/GitHub/briancaffey.github.io/img/gpu/length_vs_price_2.png'</span><span class="p">))</span>
</code></pre>
</div>

<p><img src="/img/gpu/length_vs_price_2.png" alt="png" /></p>

<p>GPUs are also measured in thermal design power (TDP) that we previously examined in CPUs. This scatterplot shows the relationship between TDP, Price, clockspeed and memory:</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="n">df1</span> <span class="o">=</span> <span class="n">df</span><span class="p">[(</span><span class="n">df</span><span class="o">.</span><span class="n">avg</span><span class="o">&gt;</span><span class="mi">0</span><span class="p">)</span><span class="o">&amp;</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">clock_speed_in_mhz</span><span class="o">&gt;</span><span class="mi">0</span><span class="p">)]</span>
<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span><span class="mi">8</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">df1</span><span class="o">.</span><span class="n">tdp</span><span class="p">,</span> <span class="n">df1</span><span class="o">.</span><span class="n">avg</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="n">df1</span><span class="o">.</span><span class="n">clock_speed_in_mhz</span><span class="p">,</span> <span class="n">s</span><span class="o">=</span><span class="n">df1</span><span class="o">.</span><span class="n">memory_mb</span><span class="o">/</span><span class="mi">10</span><span class="p">,</span> <span class="n">cmap</span><span class="o">=</span><span class="s">'Blues'</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">colorbar</span><span class="p">(</span><span class="n">label</span><span class="o">=</span><span class="s">'Clock Speed (MHz)'</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">axis</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span><span class="mi">350</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1000</span><span class="p">])</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s">'GPU TDP vs. Price, Clock Speed (color) and Memory (diameter)'</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">14</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s">'Thermal Design Power (TDP)'</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">14</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s">'Price'</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">14</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xticks</span><span class="p">(</span><span class="n">fontsize</span><span class="o">=</span><span class="mi">13</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">yticks</span><span class="p">(</span><span class="n">fontsize</span><span class="o">=</span><span class="mi">13</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">expanduser</span><span class="p">(</span><span class="s">'~/Documents/GitHub/briancaffey.github.io/img/gpu/tdp_vs_price.png'</span><span class="p">))</span>
</code></pre>
</div>

<p><img src="/img/gpu/tdp_vs_price.png" alt="png" /></p>

<p>Here is a look at the top 20 most common GPU chipsets for graphics cards:</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="n">df1</span> <span class="o">=</span> <span class="n">df</span><span class="p">[(</span><span class="n">df</span><span class="o">.</span><span class="n">avg</span><span class="o">&gt;</span><span class="mi">0</span><span class="p">)]</span>
<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span><span class="mi">8</span><span class="p">))</span>
<span class="n">df1</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s">'Chipset'</span><span class="p">)</span><span class="o">.</span><span class="n">avg</span><span class="o">.</span><span class="n">count</span><span class="p">()</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span> <span class="n">ascending</span><span class="o">=</span><span class="bp">False</span><span class="p">)[:</span><span class="mi">30</span><span class="p">]</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">kind</span><span class="o">=</span><span class="s">'bar'</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s">'GPUs by Chipset'</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">14</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s">'Chipset'</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">14</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s">'Count'</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">14</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xticks</span><span class="p">(</span><span class="n">fontsize</span><span class="o">=</span><span class="mi">13</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">yticks</span><span class="p">(</span><span class="n">fontsize</span><span class="o">=</span><span class="mi">13</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">expanduser</span><span class="p">(</span><span class="s">'~/Documents/GitHub/briancaffey.github.io/img/gpu/gpu_chipsets.png'</span><span class="p">))</span>
</code></pre>
</div>

<p><img src="/img/gpu/gpu_chipsets.png" alt="png" /></p>

<p>And here is the same graph with average prices for the top 20 most common GPU chipsets:</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="o">.</span><span class="n">avg</span><span class="o">&gt;</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s">'Chipset'</span><span class="p">)</span><span class="o">.</span><span class="n">avg</span><span class="o">.</span><span class="n">agg</span><span class="p">([</span><span class="s">'mean'</span><span class="p">,</span> <span class="s">'count'</span><span class="p">])</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="s">'count'</span><span class="p">,</span> <span class="n">ascending</span><span class="o">=</span><span class="bp">False</span><span class="p">)[:</span><span class="mi">20</span><span class="p">]</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">kind</span><span class="o">=</span><span class="s">'bar'</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span><span class="mi">8</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s">'Average Price of GPU Chipsets (sorted by count)'</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">14</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">loc</span><span class="o">=</span><span class="s">'upper right'</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">14</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s">'GPU Chipset'</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">14</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xticks</span><span class="p">(</span><span class="n">fontsize</span><span class="o">=</span><span class="mi">13</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">yticks</span><span class="p">(</span><span class="n">fontsize</span><span class="o">=</span><span class="mi">13</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">expanduser</span><span class="p">(</span><span class="s">'~/Documents/GitHub/briancaffey.github.io/img/gpu/gpu_chipsets_by_price.png'</span><span class="p">))</span>
</code></pre>
</div>

<p><img src="/img/gpu/gpu_chipsets_by_price.png" alt="png" /></p>

<p>In the next graph we can see clusters of GPU chipset families by plotting the clock speed and prices of video cards:</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="n">df2</span> <span class="o">=</span> <span class="n">df</span><span class="p">[(</span><span class="n">df</span><span class="o">.</span><span class="n">avg</span><span class="o">&gt;</span><span class="mi">0</span><span class="p">)</span><span class="o">&amp;</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">clock_speed_in_mhz</span><span class="o">&gt;</span><span class="mi">0</span><span class="p">)</span><span class="o">&amp;</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">memory_mb</span><span class="o">&lt;</span><span class="mi">10000</span><span class="p">)]</span>
<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span><span class="mi">8</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">df2</span><span class="o">.</span><span class="n">clock_speed_in_mhz</span><span class="p">,</span> <span class="n">df2</span><span class="o">.</span><span class="n">avg</span><span class="p">,</span> <span class="n">s</span><span class="o">=</span><span class="mi">75</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="n">df2</span><span class="o">.</span><span class="n">memory_mb</span><span class="p">,</span> <span class="n">cmap</span><span class="o">=</span><span class="s">'CMRmap_r'</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">colorbar</span><span class="p">(</span><span class="n">label</span><span class="o">=</span><span class="s">'Memory (MB)'</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">axis</span><span class="p">([</span><span class="mi">500</span><span class="p">,</span><span class="mi">1800</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1000</span><span class="p">])</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s">'Clock Speed (MHz) vs. Price and Memory (color)'</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">14</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s">'Clock Speed'</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">14</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s">'Price'</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">14</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xticks</span><span class="p">(</span><span class="n">fontsize</span><span class="o">=</span><span class="mi">13</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">yticks</span><span class="p">(</span><span class="n">fontsize</span><span class="o">=</span><span class="mi">13</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">expanduser</span><span class="p">(</span><span class="s">'~/Documents/GitHub/briancaffey.github.io/img/gpu/clock_speed_vs_price_and_memory.png'</span><span class="p">))</span>
</code></pre>
</div>

<p><img src="/img/gpu/clock_speed_vs_price_and_memory.png" alt="png" /></p>

<p>Now let’s look at six generations of NVIDIA GPUs by clock speed:</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="c">#6 generations of NVIDIA graphics cards</span>
<span class="n">df_N</span> <span class="o">=</span> <span class="n">df</span><span class="p">[(</span><span class="n">df</span><span class="o">.</span><span class="n">make</span><span class="o">==</span><span class="s">"NVIDIA"</span><span class="p">)</span><span class="o">&amp;</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">avg</span><span class="o">&gt;</span><span class="mi">0</span><span class="p">)]</span>
<span class="n">df_N</span><span class="p">[</span><span class="s">'NVIDIA_Series'</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="mi">10</span> <span class="k">if</span> <span class="s">'GTX 10'</span> <span class="ow">in</span> <span class="n">x</span> <span class="k">else</span> \
                          <span class="mi">9</span> <span class="k">if</span> <span class="s">'GTX 9'</span> <span class="ow">in</span> <span class="n">x</span> <span class="k">else</span> \
                          <span class="mi">7</span> <span class="k">if</span> <span class="s">'GTX 7'</span> <span class="ow">in</span> <span class="n">x</span> <span class="k">else</span> \
                          <span class="mi">6</span> <span class="k">if</span> <span class="s">'GTX 6'</span> <span class="ow">in</span> <span class="n">x</span> <span class="k">else</span> \
                          <span class="mi">5</span> <span class="k">if</span> <span class="s">'GTX 5'</span> <span class="ow">in</span> <span class="n">x</span> <span class="k">else</span> \
                          <span class="mi">4</span> <span class="k">if</span> <span class="s">'GTX 4'</span> <span class="ow">in</span> <span class="n">x</span> <span class="k">else</span> \
                          <span class="s">'other'</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">df_N</span><span class="o">.</span><span class="n">Chipset</span><span class="p">]</span>

<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">15</span><span class="p">,</span><span class="mi">10</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">axis</span><span class="p">([</span><span class="mi">500</span><span class="p">,</span><span class="mi">1800</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1000</span><span class="p">])</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s">'6 Generations of NVIDIA Graphics Cards: Price vs. Clock Speed'</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">14</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s">'Clock Speed MHz'</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">14</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s">'Price'</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">14</span><span class="p">)</span>

<span class="n">colors</span> <span class="o">=</span> <span class="p">[</span><span class="s">'#76b900'</span><span class="p">,</span> <span class="s">'#8946ff'</span><span class="p">,</span> <span class="s">'#cea503'</span><span class="p">,</span> <span class="s">'#9c0000'</span><span class="p">,</span> <span class="s">'#5c5c5c'</span><span class="p">,</span> <span class="s">'#0b75bd'</span><span class="p">]</span>
<span class="n">s</span> <span class="o">=</span> <span class="mi">150</span>
<span class="n">n10</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">df_N</span><span class="p">[</span><span class="n">df_N</span><span class="o">.</span><span class="n">NVIDIA_Series</span><span class="o">==</span><span class="mi">10</span><span class="p">]</span><span class="o">.</span><span class="n">clock_speed_in_mhz</span><span class="p">,</span> <span class="n">df_N</span><span class="p">[</span><span class="n">df_N</span><span class="o">.</span><span class="n">NVIDIA_Series</span><span class="o">==</span><span class="mi">10</span><span class="p">]</span><span class="o">.</span><span class="n">avg</span><span class="p">,</span> <span class="n">color</span> <span class="o">=</span> <span class="n">colors</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">s</span><span class="o">=</span><span class="n">s</span><span class="p">)</span>
<span class="n">n9</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">df_N</span><span class="p">[</span><span class="n">df_N</span><span class="o">.</span><span class="n">NVIDIA_Series</span><span class="o">==</span><span class="mi">9</span><span class="p">]</span><span class="o">.</span><span class="n">clock_speed_in_mhz</span><span class="p">,</span> <span class="n">df_N</span><span class="p">[</span><span class="n">df_N</span><span class="o">.</span><span class="n">NVIDIA_Series</span><span class="o">==</span><span class="mi">9</span><span class="p">]</span><span class="o">.</span><span class="n">avg</span><span class="p">,</span> <span class="n">color</span> <span class="o">=</span> <span class="n">colors</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">s</span><span class="o">=</span><span class="n">s</span><span class="p">)</span>
<span class="n">n7</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">df_N</span><span class="p">[</span><span class="n">df_N</span><span class="o">.</span><span class="n">NVIDIA_Series</span><span class="o">==</span><span class="mi">7</span><span class="p">]</span><span class="o">.</span><span class="n">clock_speed_in_mhz</span><span class="p">,</span> <span class="n">df_N</span><span class="p">[</span><span class="n">df_N</span><span class="o">.</span><span class="n">NVIDIA_Series</span><span class="o">==</span><span class="mi">7</span><span class="p">]</span><span class="o">.</span><span class="n">avg</span><span class="p">,</span> <span class="n">color</span> <span class="o">=</span> <span class="n">colors</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span> <span class="n">s</span><span class="o">=</span><span class="n">s</span><span class="p">)</span>
<span class="n">n6</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">df_N</span><span class="p">[</span><span class="n">df_N</span><span class="o">.</span><span class="n">NVIDIA_Series</span><span class="o">==</span><span class="mi">6</span><span class="p">]</span><span class="o">.</span><span class="n">clock_speed_in_mhz</span><span class="p">,</span> <span class="n">df_N</span><span class="p">[</span><span class="n">df_N</span><span class="o">.</span><span class="n">NVIDIA_Series</span><span class="o">==</span><span class="mi">6</span><span class="p">]</span><span class="o">.</span><span class="n">avg</span><span class="p">,</span> <span class="n">color</span> <span class="o">=</span> <span class="n">colors</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span> <span class="n">s</span><span class="o">=</span><span class="n">s</span><span class="p">)</span>
<span class="n">n5</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">df_N</span><span class="p">[</span><span class="n">df_N</span><span class="o">.</span><span class="n">NVIDIA_Series</span><span class="o">==</span><span class="mi">5</span><span class="p">]</span><span class="o">.</span><span class="n">clock_speed_in_mhz</span><span class="p">,</span> <span class="n">df_N</span><span class="p">[</span><span class="n">df_N</span><span class="o">.</span><span class="n">NVIDIA_Series</span><span class="o">==</span><span class="mi">5</span><span class="p">]</span><span class="o">.</span><span class="n">avg</span><span class="p">,</span> <span class="n">color</span> <span class="o">=</span> <span class="n">colors</span><span class="p">[</span><span class="mi">4</span><span class="p">],</span> <span class="n">s</span><span class="o">=</span><span class="n">s</span><span class="p">)</span>
<span class="n">n4</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">df_N</span><span class="p">[</span><span class="n">df_N</span><span class="o">.</span><span class="n">NVIDIA_Series</span><span class="o">==</span><span class="mi">4</span><span class="p">]</span><span class="o">.</span><span class="n">clock_speed_in_mhz</span><span class="p">,</span> <span class="n">df_N</span><span class="p">[</span><span class="n">df_N</span><span class="o">.</span><span class="n">NVIDIA_Series</span><span class="o">==</span><span class="mi">4</span><span class="p">]</span><span class="o">.</span><span class="n">avg</span><span class="p">,</span> <span class="n">color</span> <span class="o">=</span> <span class="n">colors</span><span class="p">[</span><span class="mi">5</span><span class="p">],</span> <span class="n">s</span><span class="o">=</span><span class="n">s</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">((</span><span class="n">n10</span><span class="p">,</span> <span class="n">n9</span><span class="p">,</span> <span class="n">n7</span><span class="p">,</span> <span class="n">n6</span><span class="p">,</span> <span class="n">n5</span><span class="p">,</span> <span class="n">n4</span><span class="p">),</span>
           <span class="p">(</span><span class="s">'10 Series'</span><span class="p">,</span> <span class="s">'9 Series'</span><span class="p">,</span> <span class="s">'7 Series'</span><span class="p">,</span> <span class="s">'6 Series'</span><span class="p">,</span> <span class="s">'5 Series'</span><span class="p">,</span> <span class="s">'4 Series'</span><span class="p">),</span>
           <span class="n">title</span> <span class="o">=</span> <span class="s">'NVIDIA GeForce Generations'</span><span class="p">,</span>
           <span class="n">scatterpoints</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span>
           <span class="n">loc</span><span class="o">=</span><span class="s">'upper left'</span><span class="p">,</span>
           <span class="n">ncol</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span>
           <span class="n">fontsize</span><span class="o">=</span><span class="mi">14</span><span class="p">)</span> 
<span class="n">sns</span><span class="o">.</span><span class="n">despine</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>

<span class="n">plt</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">expanduser</span><span class="p">(</span><span class="s">'~/Documents/GitHub/briancaffey.github.io/img/gpu/six_NVIDIA.png'</span><span class="p">))</span>
</code></pre>
</div>
<p><img src="/img/gpu/six_NVIDIA.png" alt="png" /></p>

<p>It’s also helpful to compare the most recent two series of NVIDIA GPUs by chipset families:</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="c">#10 Series vs. 9 Series</span>
<span class="n">df_N</span> <span class="o">=</span> <span class="n">df</span><span class="p">[(</span><span class="n">df</span><span class="o">.</span><span class="n">make</span><span class="o">==</span><span class="s">"NVIDIA"</span><span class="p">)</span><span class="o">&amp;</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">avg</span><span class="o">&gt;</span><span class="mi">0</span><span class="p">)]</span>
<span class="n">df_N</span><span class="p">[</span><span class="s">'NVIDIA_Series_9_10'</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1080</span> <span class="k">if</span> <span class="s">'GTX 108'</span> <span class="ow">in</span> <span class="n">x</span> <span class="k">else</span> \
                          <span class="mi">1070</span> <span class="k">if</span> <span class="s">'GTX 1070'</span> <span class="ow">in</span> <span class="n">x</span> <span class="k">else</span> \
                          <span class="mi">1060</span> <span class="k">if</span> <span class="s">'GTX 1060'</span> <span class="ow">in</span> <span class="n">x</span> <span class="k">else</span> \
                          <span class="mi">980</span> <span class="k">if</span> <span class="s">'GTX 980'</span> <span class="ow">in</span> <span class="n">x</span> <span class="k">else</span> \
                          <span class="mi">970</span> <span class="k">if</span> <span class="s">'GTX 970'</span> <span class="ow">in</span> <span class="n">x</span> <span class="k">else</span> \
                          <span class="mi">960</span> <span class="k">if</span> <span class="s">'GTX 960'</span> <span class="ow">in</span> <span class="n">x</span> <span class="k">else</span> \
                          <span class="mi">950</span> <span class="k">if</span> <span class="s">'GTX 950'</span> <span class="ow">in</span> <span class="n">x</span> <span class="k">else</span> \
                          <span class="s">'other'</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">df_N</span><span class="o">.</span><span class="n">Chipset</span><span class="p">]</span>

<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">15</span><span class="p">,</span><span class="mi">10</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">axis</span><span class="p">([</span><span class="mi">800</span><span class="p">,</span><span class="mi">1800</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1000</span><span class="p">])</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s">'NVIDIA GeForce GTX: 10 Series vs. 9 Series'</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">14</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s">'Clock Speed (MHz)'</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">14</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s">'Price'</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">14</span><span class="p">)</span>

<span class="n">colors</span> <span class="o">=</span> <span class="p">[</span><span class="s">'#76b900'</span><span class="p">,</span> <span class="s">'#8946ff'</span><span class="p">,</span> <span class="s">'#5c5c5c'</span><span class="p">,</span> <span class="s">'#9c0000'</span><span class="p">,</span> <span class="s">'#cea503'</span><span class="p">,</span> <span class="s">'#0b75bd'</span><span class="p">,</span> <span class="s">'red'</span><span class="p">]</span>
<span class="n">s</span> <span class="o">=</span> <span class="mi">150</span>

<span class="n">n1080</span> <span class="o">=</span> <span class="n">df_N</span><span class="p">[</span><span class="n">df_N</span><span class="o">.</span><span class="n">NVIDIA_Series_9_10</span><span class="o">==</span><span class="mi">1080</span><span class="p">]</span>
<span class="n">n1070</span> <span class="o">=</span> <span class="n">df_N</span><span class="p">[</span><span class="n">df_N</span><span class="o">.</span><span class="n">NVIDIA_Series_9_10</span><span class="o">==</span><span class="mi">1070</span><span class="p">]</span>
<span class="n">n1060</span> <span class="o">=</span> <span class="n">df_N</span><span class="p">[</span><span class="n">df_N</span><span class="o">.</span><span class="n">NVIDIA_Series_9_10</span><span class="o">==</span><span class="mi">1060</span><span class="p">]</span>
<span class="n">n980</span> <span class="o">=</span> <span class="n">df_N</span><span class="p">[</span><span class="n">df_N</span><span class="o">.</span><span class="n">NVIDIA_Series_9_10</span><span class="o">==</span><span class="mi">980</span><span class="p">]</span>
<span class="n">n970</span> <span class="o">=</span> <span class="n">df_N</span><span class="p">[</span><span class="n">df_N</span><span class="o">.</span><span class="n">NVIDIA_Series_9_10</span><span class="o">==</span><span class="mi">970</span><span class="p">]</span>
<span class="n">n960</span> <span class="o">=</span> <span class="n">df_N</span><span class="p">[</span><span class="n">df_N</span><span class="o">.</span><span class="n">NVIDIA_Series_9_10</span><span class="o">==</span><span class="mi">960</span><span class="p">]</span>
<span class="n">n950</span> <span class="o">=</span> <span class="n">df_N</span><span class="p">[</span><span class="n">df_N</span><span class="o">.</span><span class="n">NVIDIA_Series_9_10</span><span class="o">==</span><span class="mi">950</span><span class="p">]</span>

<span class="n">n_1080</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">n1080</span><span class="o">.</span><span class="n">clock_speed_in_mhz</span><span class="p">,</span> <span class="n">n1080</span><span class="o">.</span><span class="n">avg</span><span class="p">,</span> <span class="n">color</span> <span class="o">=</span> <span class="n">colors</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">s</span><span class="o">=</span><span class="n">s</span><span class="p">)</span>
<span class="n">n_1070</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">n1070</span><span class="o">.</span><span class="n">clock_speed_in_mhz</span><span class="p">,</span> <span class="n">n1070</span><span class="o">.</span><span class="n">avg</span><span class="p">,</span> <span class="n">color</span> <span class="o">=</span> <span class="n">colors</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">s</span><span class="o">=</span><span class="n">s</span><span class="p">)</span>
<span class="n">n_1060</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">n1060</span><span class="o">.</span><span class="n">clock_speed_in_mhz</span><span class="p">,</span> <span class="n">n1060</span><span class="o">.</span><span class="n">avg</span><span class="p">,</span> <span class="n">color</span> <span class="o">=</span> <span class="n">colors</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span> <span class="n">s</span><span class="o">=</span><span class="n">s</span><span class="p">)</span>
<span class="n">n_980</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">n980</span><span class="o">.</span><span class="n">clock_speed_in_mhz</span><span class="p">,</span> <span class="n">n980</span><span class="o">.</span><span class="n">avg</span><span class="p">,</span> <span class="n">color</span> <span class="o">=</span> <span class="n">colors</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span> <span class="n">s</span><span class="o">=</span><span class="n">s</span><span class="p">)</span>
<span class="n">n_970</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">n970</span><span class="o">.</span><span class="n">clock_speed_in_mhz</span><span class="p">,</span> <span class="n">n970</span><span class="o">.</span><span class="n">avg</span><span class="p">,</span> <span class="n">color</span> <span class="o">=</span> <span class="n">colors</span><span class="p">[</span><span class="mi">4</span><span class="p">],</span> <span class="n">s</span><span class="o">=</span><span class="n">s</span><span class="p">)</span>
<span class="n">n_960</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">n960</span><span class="o">.</span><span class="n">clock_speed_in_mhz</span><span class="p">,</span> <span class="n">n960</span><span class="o">.</span><span class="n">avg</span><span class="p">,</span> <span class="n">color</span> <span class="o">=</span> <span class="n">colors</span><span class="p">[</span><span class="mi">5</span><span class="p">],</span> <span class="n">s</span><span class="o">=</span><span class="n">s</span><span class="p">)</span>
<span class="n">n_950</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">n950</span><span class="o">.</span><span class="n">clock_speed_in_mhz</span><span class="p">,</span> <span class="n">n950</span><span class="o">.</span><span class="n">avg</span><span class="p">,</span> <span class="n">color</span> <span class="o">=</span> <span class="n">colors</span><span class="p">[</span><span class="mi">6</span><span class="p">],</span> <span class="n">s</span><span class="o">=</span><span class="n">s</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">((</span><span class="n">n_1080</span><span class="p">,</span> <span class="n">n_1070</span><span class="p">,</span> <span class="n">n_1060</span><span class="p">,</span> <span class="n">n_980</span><span class="p">,</span> <span class="n">n_970</span><span class="p">,</span> <span class="n">n_960</span><span class="p">,</span> <span class="n">n_950</span><span class="p">),</span>
           <span class="p">(</span><span class="s">'1080'</span><span class="p">,</span> <span class="s">'1070'</span><span class="p">,</span> <span class="s">'1060'</span><span class="p">,</span> <span class="s">'980'</span><span class="p">,</span> <span class="s">'970'</span><span class="p">,</span> <span class="s">'960'</span><span class="p">,</span> <span class="s">'950'</span><span class="p">),</span>
           <span class="n">title</span> <span class="o">=</span> <span class="s">'NVIDIA GeForce'</span><span class="p">,</span>
           <span class="n">scatterpoints</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span>
           <span class="n">loc</span><span class="o">=</span><span class="s">'upper left'</span><span class="p">,</span>
           <span class="n">ncol</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
           <span class="n">fontsize</span><span class="o">=</span><span class="mi">14</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xticks</span><span class="p">(</span><span class="n">fontsize</span><span class="o">=</span><span class="mi">13</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">yticks</span><span class="p">(</span><span class="n">fontsize</span><span class="o">=</span><span class="mi">13</span><span class="p">)</span>
<span class="n">sns</span><span class="o">.</span><span class="n">despine</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">expanduser</span><span class="p">(</span><span class="s">'~/Documents/GitHub/briancaffey.github.io/img/gpu/9_vs_10.png'</span><span class="p">))</span>
</code></pre>
</div>

<p><img src="/img/gpu/9_vs_10.png" alt="png" /></p>

<p>Finally, as we did for CPUs, we can look at the core memory clock and the boost clock for GPUs:</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="n">df2</span> <span class="o">=</span> <span class="n">df</span><span class="p">[(</span><span class="n">df</span><span class="o">.</span><span class="n">avg</span><span class="o">&gt;</span><span class="mi">0</span><span class="p">)</span><span class="o">&amp;</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">clock_speed_in_mhz</span><span class="o">&gt;</span><span class="mi">0</span><span class="p">)</span><span class="o">&amp;</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">boost_clock_speed_mhz</span><span class="o">&gt;</span><span class="mi">0</span><span class="p">)</span><span class="o">&amp;</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">tdp</span><span class="o">&gt;</span><span class="mi">0</span><span class="p">)]</span>

<span class="kn">from</span> <span class="nn">sklearn.linear_model</span> <span class="kn">import</span> <span class="n">LinearRegression</span>
<span class="n">lreg</span> <span class="o">=</span> <span class="n">LinearRegression</span><span class="p">()</span>

<span class="n">x</span> <span class="o">=</span> <span class="n">df2</span><span class="o">.</span><span class="n">clock_speed_in_mhz</span>
<span class="n">Y</span> <span class="o">=</span> <span class="n">df2</span><span class="o">.</span><span class="n">boost_clock_speed_mhz</span>

<span class="n">x</span> <span class="o">=</span> <span class="n">x</span><span class="o">.</span><span class="n">values</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
<span class="n">Y</span> <span class="o">=</span> <span class="n">Y</span><span class="o">.</span><span class="n">values</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>

<span class="n">lreg</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">Y</span><span class="p">,</span> <span class="n">sample_weight</span><span class="o">=</span><span class="bp">None</span><span class="p">)</span>
<span class="n">s</span> <span class="o">=</span> <span class="n">df2</span><span class="o">.</span><span class="n">tdp</span><span class="o">*</span><span class="mi">3</span>
<span class="n">a</span> <span class="o">=</span> <span class="mf">0.3</span>
<span class="n">sns</span><span class="o">.</span><span class="n">set_style</span><span class="p">(</span><span class="s">'whitegrid'</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span><span class="mi">8</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">lreg</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">x</span><span class="p">),</span> <span class="n">c</span><span class="o">=</span><span class="s">'y'</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">df2</span><span class="p">[</span><span class="n">df</span><span class="o">.</span><span class="n">make</span><span class="o">==</span><span class="s">'NVIDIA'</span><span class="p">]</span><span class="o">.</span><span class="n">clock_speed_in_mhz</span><span class="p">,</span> <span class="n">df2</span><span class="p">[</span><span class="n">df</span><span class="o">.</span><span class="n">make</span><span class="o">==</span><span class="s">'NVIDIA'</span><span class="p">]</span><span class="o">.</span><span class="n">boost_clock_speed_mhz</span><span class="p">,</span> <span class="n">s</span><span class="o">=</span><span class="n">s</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="s">'green'</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="n">a</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">df2</span><span class="p">[</span><span class="n">df</span><span class="o">.</span><span class="n">make</span><span class="o">==</span><span class="s">'AMD'</span><span class="p">]</span><span class="o">.</span><span class="n">clock_speed_in_mhz</span><span class="p">,</span> <span class="n">df2</span><span class="p">[</span><span class="n">df</span><span class="o">.</span><span class="n">make</span><span class="o">==</span><span class="s">'AMD'</span><span class="p">]</span><span class="o">.</span><span class="n">boost_clock_speed_mhz</span><span class="p">,</span> <span class="n">s</span><span class="o">=</span><span class="n">s</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="s">'r'</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="n">a</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s">'Core Clock vs. Boost Clock and TDP (diameter)'</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">14</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s">'Core Clock Speed (MHz)'</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">14</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s">'Boost Clock Speed (MHz)'</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">14</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xticks</span><span class="p">(</span><span class="n">fontsize</span><span class="o">=</span><span class="mi">13</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">yticks</span><span class="p">(</span><span class="n">fontsize</span><span class="o">=</span><span class="mi">13</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">axis</span><span class="p">([</span><span class="mi">600</span><span class="p">,</span><span class="mi">2100</span><span class="p">,</span><span class="mi">600</span><span class="p">,</span><span class="mi">2100</span><span class="p">])</span>
<span class="n">x_points</span> <span class="o">=</span> <span class="p">[</span><span class="mi">700</span><span class="p">,</span><span class="mi">1000</span><span class="p">,</span><span class="mi">1500</span><span class="p">,</span><span class="mi">2000</span><span class="p">]</span>
<span class="n">y_points</span> <span class="o">=</span> <span class="p">[</span><span class="mi">700</span><span class="p">,</span><span class="mi">1000</span><span class="p">,</span><span class="mi">1500</span><span class="p">,</span><span class="mi">2000</span><span class="p">]</span>

<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">x_points</span><span class="p">,</span><span class="n">y_points</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="s">'blue'</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">([</span> <span class="s">'Line of best fit'</span><span class="p">,</span> <span class="s">'y = x'</span><span class="p">,</span> <span class="s">'Core vs. Boost Clock (NVIDIA)'</span><span class="p">,</span> <span class="s">'Core vs. Boost Clock (AMD)'</span><span class="p">],</span> <span class="n">loc</span><span class="o">=</span><span class="s">'upper left'</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">13</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">expanduser</span><span class="p">(</span><span class="s">'~/Documents/GitHub/briancaffey.github.io/img/gpu/gpu_clock_vs_boost.png'</span><span class="p">))</span>
</code></pre>
</div>

<p><img src="/img/gpu/gpu_clock_vs_boost.png" alt="png" /></p>

<p>The latest generation of GPUs at much higher clock speeds than previous generations are able to boost clocks even faster than previous generations, on average. This is shown by the slightly steeper curve of the line of best fit as compared with <code class="highlighter-rouge">y = x</code>.</p>

<h1 id="hard-drives">Hard Drives</h1>

<p>Hard drive sizes have been growing at an exponential rate since the 1950s. This <a href="https://en.wikipedia.org/wiki/File:Hard_drive_capacity_over_time.svg">chart from Wikipedia</a> shows the growth of storage sizes on a logarithmic scale in recent decades:</p>

<p><img src="/img/storage/storage_growth.png" alt="png" /></p>

<p>Linear growth on a logarithmic scale corresponds to exponential growth on a linear scale, which is the basis of Moore’s Law. Hard drive disks follow a growth pattern similar to Moore’s Law called <a href="https://en.wikipedia.org/wiki/Mark_Kryder">Kryder’s Law</a>. 
Here is a scatter plot of storage drive sizes and prices:</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="n">sns</span><span class="o">.</span><span class="n">set_style</span><span class="p">(</span><span class="s">'whitegrid'</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span><span class="mi">8</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">axis</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span><span class="mi">10500</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1500</span><span class="p">])</span>
<span class="n">ssd</span> <span class="o">=</span> <span class="n">df</span><span class="p">[(</span><span class="n">df</span><span class="o">.</span><span class="n">avg</span><span class="o">&gt;</span><span class="mi">0</span><span class="p">)</span><span class="o">&amp;</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">is_ssd</span><span class="o">==</span><span class="s">"Yes"</span><span class="p">)]</span>
<span class="n">hdd</span> <span class="o">=</span> <span class="n">df</span><span class="p">[(</span><span class="n">df</span><span class="o">.</span><span class="n">avg</span><span class="o">&gt;</span><span class="mi">0</span><span class="p">)</span><span class="o">&amp;</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">is_ssd</span><span class="o">==</span><span class="s">"No"</span><span class="p">)]</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s">'Hard Drive Sizes (GB) vs. Prices '</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">14</span><span class="p">)</span>
<span class="n">s</span><span class="o">=</span><span class="mi">75</span>
<span class="n">plt</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">ssd</span><span class="o">.</span><span class="n">storage_gb</span><span class="p">,</span> <span class="n">ssd</span><span class="o">.</span><span class="n">avg</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="s">'black'</span><span class="p">,</span> <span class="n">s</span><span class="o">=</span><span class="n">s</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=.</span><span class="mi">3</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">hdd</span><span class="o">.</span><span class="n">storage_gb</span><span class="p">,</span> <span class="n">hdd</span><span class="o">.</span><span class="n">avg</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="s">'red'</span><span class="p">,</span> <span class="n">s</span><span class="o">=</span><span class="n">s</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=.</span><span class="mi">3</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">([</span><span class="s">'SSD'</span><span class="p">,</span> <span class="s">'HDD'</span><span class="p">],</span> <span class="n">loc</span><span class="o">=</span><span class="s">'upper right'</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">14</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s">'Hard Drive size (GB)'</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">14</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s">'Price'</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">14</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xticks</span><span class="p">(</span><span class="n">fontsize</span><span class="o">=</span><span class="mi">13</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">yticks</span><span class="p">(</span><span class="n">fontsize</span><span class="o">=</span><span class="mi">13</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">expanduser</span><span class="p">(</span><span class="s">'~/Documents/GitHub/briancaffey.github.io/img/storage/storage_vs_price.png'</span><span class="p">))</span>
</code></pre>
</div>

<p><img src="/img/storage/storage_vs_price.png" alt="png" /></p>

<p>HDD refers to a spinning hard drive disk. Electromechanical magnetic disks spin at high freuencies and a physical arm reads and writes data to and from the spinning disks. SSDs, or Solid state drives, have a number of advantages over spinning drives. SSDs have no moving parts, which makes them more shock resistant and quiter than HDDs. SSDs also have lower access time and lower latency, but they come at a much higher price per GB of storage than HDDs.</p>

<p>The next two graphs show SSDs and HDDs, respectively.</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span><span class="mi">8</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">axis</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span><span class="mi">2000</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1500</span><span class="p">])</span>
<span class="n">ssd</span> <span class="o">=</span> <span class="n">df</span><span class="p">[(</span><span class="n">df</span><span class="o">.</span><span class="n">avg</span><span class="o">&gt;</span><span class="mi">0</span><span class="p">)</span><span class="o">&amp;</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">is_ssd</span><span class="o">==</span><span class="s">"Yes"</span><span class="p">)]</span>

<span class="n">plt</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">ssd</span><span class="o">.</span><span class="n">storage_gb</span><span class="p">,</span> <span class="n">ssd</span><span class="o">.</span><span class="n">avg</span><span class="p">,</span> <span class="n">s</span><span class="o">=</span><span class="mi">75</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=.</span><span class="mi">2</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s">'SSD Size vs. Price'</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">14</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s">'SSD Hard Drive size (GB)'</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">14</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s">'Price'</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">14</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xticks</span><span class="p">(</span><span class="n">fontsize</span><span class="o">=</span><span class="mi">13</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">yticks</span><span class="p">(</span><span class="n">fontsize</span><span class="o">=</span><span class="mi">13</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">expanduser</span><span class="p">(</span><span class="s">'~/Documents/GitHub/briancaffey.github.io/img/storage/ssd_storage_vs_price.png'</span><span class="p">))</span>
</code></pre>
</div>

<p><img src="/img/storage/ssd_storage_vs_price.png" alt="png" /></p>

<p>For HDDs, the color of each point represent the speed in rotations per minute of the spinning disk:</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span><span class="mi">7</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">axis</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span><span class="mi">11000</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">650</span><span class="p">])</span>
<span class="n">hdd</span> <span class="o">=</span> <span class="n">df</span><span class="p">[(</span><span class="n">df</span><span class="o">.</span><span class="n">avg</span><span class="o">&gt;</span><span class="mi">0</span><span class="p">)</span><span class="o">&amp;</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">is_ssd</span><span class="o">==</span><span class="s">"No"</span><span class="p">)</span><span class="o">&amp;</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">RPM</span><span class="o">.</span><span class="n">notnull</span><span class="p">())]</span>
<span class="n">plt</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">hdd</span><span class="o">.</span><span class="n">storage_gb</span><span class="p">,</span> <span class="n">hdd</span><span class="o">.</span><span class="n">avg</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="n">hdd</span><span class="o">.</span><span class="n">RPM</span><span class="p">,</span> <span class="n">s</span><span class="o">=</span><span class="mi">40</span><span class="p">,</span> <span class="n">cmap</span><span class="o">=</span><span class="s">"Blues_r"</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">colorbar</span><span class="p">(</span><span class="n">label</span><span class="o">=</span><span class="s">'RPM'</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s">'HDD Size vs. Price and RPM (color)'</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">14</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s">'HDD Hard Drive size (GB)'</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">14</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s">'Price'</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">14</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xticks</span><span class="p">(</span><span class="n">fontsize</span><span class="o">=</span><span class="mi">13</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">yticks</span><span class="p">(</span><span class="n">fontsize</span><span class="o">=</span><span class="mi">13</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">expanduser</span><span class="p">(</span><span class="s">'~/Documents/GitHub/briancaffey.github.io/img/storage/hdd_storage_vs_price.png'</span><span class="p">))</span>
</code></pre>
</div>

<p><img src="/img/storage/hdd_storage_vs_price.png" alt="png" /></p>

<p>This graph shows the price and the price per GB for SSDs and HDDs:</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span><span class="mi">8</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">axis</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span><span class="mi">5100</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">3</span><span class="p">])</span>
<span class="n">a</span><span class="o">=.</span><span class="mi">3</span>
<span class="n">plt</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">ssd</span><span class="o">.</span><span class="n">storage_gb</span><span class="p">,</span><span class="n">ssd</span><span class="o">.</span><span class="n">ppgb</span><span class="p">,</span> <span class="n">s</span><span class="o">=</span> <span class="mi">50</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="n">a</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s">'black'</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">hdd</span><span class="o">.</span><span class="n">storage_gb</span><span class="p">,</span><span class="n">hdd</span><span class="o">.</span><span class="n">ppgb</span><span class="p">,</span> <span class="n">s</span><span class="o">=</span> <span class="mi">50</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="n">a</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s">'red'</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s">'Price per GB of Hard Drive vs. Storage Capacity'</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">14</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s">'Storage Capacity (GB)'</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">14</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s">'Price per GB'</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">14</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xticks</span><span class="p">(</span><span class="n">fontsize</span><span class="o">=</span><span class="mi">13</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">yticks</span><span class="p">(</span><span class="n">fontsize</span><span class="o">=</span><span class="mi">13</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">([</span><span class="s">'SSD'</span><span class="p">,</span> <span class="s">'HDD'</span><span class="p">],</span> <span class="n">loc</span><span class="o">=</span><span class="s">'upper right'</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">14</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">expanduser</span><span class="p">(</span><span class="s">'~/Documents/GitHub/briancaffey.github.io/img/storage/storage_vs_ppgb.png'</span><span class="p">))</span>
</code></pre>
</div>

<p><img src="/img/storage/storage_vs_ppgb.png" alt="png" /></p>

<p>Both HDDs and SSDs become less expensive per GB as they scale.</p>

<p>#Cases</p>

<p>All of the components mentioned above are assembled</p>

<h1 id="case-fans">Case Fans</h1>

<p>Case fans are an important consideration for enthusiast-level PC buidlers. Case fan features include maximum RPM, maximum sound (dbA, or A-weighted decibels), maximum airflow (measured in cubic feet per minute, or CFM), fan size (mm) and static pressure (mm/H2O, a measure of pressure). These fan features are determined by the power of the fan motor and the shape, angle and spacing of the fan blades. Here are some of these features on scatter plots:</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="n">df1</span> <span class="o">=</span> <span class="n">df</span><span class="p">[(</span><span class="n">df</span><span class="o">.</span><span class="n">noise</span><span class="o">&gt;</span><span class="mi">0</span><span class="p">)</span><span class="o">&amp;</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">max_flow</span><span class="o">&gt;</span><span class="mi">0</span><span class="p">)</span><span class="o">&amp;</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">rpm_max</span><span class="o">&gt;</span><span class="mi">0</span><span class="p">)</span><span class="o">&amp;</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">avg</span><span class="o">&gt;</span><span class="mi">0</span><span class="p">)</span><span class="o">&amp;</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">avg</span><span class="o">&lt;</span><span class="mi">75</span><span class="p">)]</span>
<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span><span class="mi">8</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">df1</span><span class="o">.</span><span class="n">rpm_max</span><span class="p">,</span> <span class="n">df1</span><span class="o">.</span><span class="n">noise</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="n">df1</span><span class="o">.</span><span class="n">avg</span><span class="p">,</span> <span class="n">cmap</span><span class="o">=</span><span class="s">'Blues'</span><span class="p">,</span> <span class="n">s</span><span class="o">=</span><span class="mi">100</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">colorbar</span><span class="p">(</span><span class="n">label</span><span class="o">=</span><span class="s">'Price'</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">axis</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span><span class="mi">10000</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">70</span><span class="p">])</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s">'Maximum RPM'</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">14</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s">'Maximum Noise (dbA)'</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">14</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s">'Case Fan Maximum RPM vs. Maximum Noise (dbA) and Price (color)'</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">14</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">expanduser</span><span class="p">(</span><span class="s">'~/Documents/GitHub/briancaffey.github.io/img/fan/rpm_vs_noise.png'</span><span class="p">))</span>
</code></pre>
</div>

<p><img src="/img/fan/rpm_vs_noise.png" alt="png" /></p>

<p>260 of 1192 case fans in this dataset include a rating for static pressure. Static pressure can be thought of as the force by which air is pushed out of the fan. If you put your hand in front of a fan with low static pressure, you will feel a gentle flow of air. Fans with high static pressure have stronger airflow, but not necessarily more airflow, as measured in CFM.</p>

<p>This graph shows air flow plotted against static pressure, and the weak correlation between the two variables:</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="n">df5</span> <span class="o">=</span> <span class="n">df</span><span class="p">[(</span><span class="n">df</span><span class="o">.</span><span class="n">avg</span><span class="o">&gt;</span><span class="mi">0</span><span class="p">)</span><span class="o">&amp;</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">max_flow</span><span class="o">&gt;</span><span class="mi">0</span><span class="p">)</span><span class="o">&amp;</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">static_pressure</span><span class="o">&gt;</span><span class="mi">0</span><span class="p">)</span><span class="o">&amp;</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">rpm_max</span><span class="o">&gt;</span><span class="mi">0</span><span class="p">)</span><span class="o">&amp;</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">static_pressure</span><span class="o">&lt;</span><span class="mi">15</span><span class="p">)]</span>

<span class="kn">from</span> <span class="nn">sklearn.linear_model</span> <span class="kn">import</span> <span class="n">LinearRegression</span>
<span class="n">lreg</span> <span class="o">=</span> <span class="n">LinearRegression</span><span class="p">()</span>

<span class="n">X</span> <span class="o">=</span> <span class="n">df5</span><span class="o">.</span><span class="n">max_flow</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="n">df5</span><span class="o">.</span><span class="n">max_flow</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="mi">1</span><span class="p">)</span>
<span class="n">y</span> <span class="o">=</span> <span class="n">df5</span><span class="o">.</span><span class="n">static_pressure</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="n">df5</span><span class="o">.</span><span class="n">static_pressure</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="mi">1</span><span class="p">)</span>
<span class="n">lreg</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">X</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">sample_weight</span><span class="o">=</span><span class="bp">None</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span><span class="mi">8</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">df5</span><span class="o">.</span><span class="n">max_flow</span><span class="p">,</span> <span class="n">df5</span><span class="o">.</span><span class="n">static_pressure</span><span class="p">,</span> <span class="n">s</span><span class="o">=</span><span class="mi">75</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s">'Air Flow (CFM) vs. Static Pressure (mm/H2O)'</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">14</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s">'Air Flow in CFM (cubic feet per minute)'</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">14</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s">'Static Pressure (mm/H2O)'</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">14</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xticks</span><span class="p">(</span><span class="n">fontsize</span><span class="o">=</span><span class="mi">13</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">yticks</span><span class="p">(</span><span class="n">fontsize</span><span class="o">=</span><span class="mi">13</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">axis</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span><span class="mi">200</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">8</span><span class="p">])</span>

<span class="c">#plot regression line</span>
<span class="n">flow</span> <span class="o">=</span> <span class="n">df5</span><span class="o">.</span><span class="n">max_flow</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="n">df5</span><span class="o">.</span><span class="n">max_flow</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="mi">1</span><span class="p">)</span>
<span class="n">pred</span> <span class="o">=</span> <span class="n">lreg</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">df5</span><span class="o">.</span><span class="n">max_flow</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="n">df5</span><span class="o">.</span><span class="n">max_flow</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="mi">1</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">flow</span> <span class="p">,</span><span class="n">pred</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s">'red'</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">expanduser</span><span class="p">(</span><span class="s">'~/Documents/GitHub/briancaffey.github.io/img/fan/air_flow_v_static_pressure.png'</span><span class="p">))</span>

<span class="k">print</span> <span class="n">lreg</span><span class="o">.</span><span class="n">score</span><span class="p">(</span><span class="n">X</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">sample_weight</span><span class="o">=</span><span class="bp">None</span><span class="p">)</span>
</code></pre>
</div>
<p><code class="highlighter-rouge">0.0345903950712</code></p>

<p><img src="/img/fan/air_flow_v_static_pressure.png" alt="png" /></p>

<p>Two fan features with a strong correlation are maximum RPM and static pressure:</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="n">df5</span> <span class="o">=</span> <span class="n">df</span><span class="p">[(</span><span class="n">df</span><span class="o">.</span><span class="n">avg</span><span class="o">&gt;</span><span class="mi">0</span><span class="p">)</span><span class="o">&amp;</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">max_flow</span><span class="o">&gt;</span><span class="mi">0</span><span class="p">)</span><span class="o">&amp;</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">static_pressure</span><span class="o">&gt;</span><span class="mi">0</span><span class="p">)</span><span class="o">&amp;</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">rpm_max</span><span class="o">&gt;</span><span class="mi">0</span><span class="p">)</span><span class="o">&amp;</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">static_pressure</span><span class="o">&lt;</span><span class="mi">15</span><span class="p">)]</span>

<span class="kn">from</span> <span class="nn">sklearn.linear_model</span> <span class="kn">import</span> <span class="n">LinearRegression</span>
<span class="n">lreg</span> <span class="o">=</span> <span class="n">LinearRegression</span><span class="p">()</span>
<span class="n">X</span> <span class="o">=</span> <span class="n">df5</span><span class="o">.</span><span class="n">rpm_max</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="n">df5</span><span class="o">.</span><span class="n">rpm_max</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="mi">1</span><span class="p">)</span>
<span class="n">y</span> <span class="o">=</span> <span class="n">df5</span><span class="o">.</span><span class="n">static_pressure</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="n">df5</span><span class="o">.</span><span class="n">static_pressure</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="mi">1</span><span class="p">)</span>
<span class="n">lreg</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">X</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">sample_weight</span><span class="o">=</span><span class="bp">None</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span><span class="mi">8</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">df5</span><span class="o">.</span><span class="n">rpm_max</span><span class="p">,</span> <span class="n">df5</span><span class="o">.</span><span class="n">static_pressure</span><span class="p">,</span> <span class="n">s</span><span class="o">=</span><span class="mi">75</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">axis</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span><span class="mi">8000</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">16</span><span class="p">])</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s">'Maximum RPM vs. Static Pressure (mm/H2O)'</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">14</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s">'Maximum RPM'</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">14</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s">'Static Pressure (mm/H2O)'</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">14</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xticks</span><span class="p">(</span><span class="n">fontsize</span><span class="o">=</span><span class="mi">13</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">yticks</span><span class="p">(</span><span class="n">fontsize</span><span class="o">=</span><span class="mi">13</span><span class="p">)</span>

<span class="c">#plot regression line</span>
<span class="n">size</span> <span class="o">=</span> <span class="n">df5</span><span class="o">.</span><span class="n">rpm_max</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="n">df5</span><span class="o">.</span><span class="n">rpm_max</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="mi">1</span><span class="p">)</span>
<span class="n">pred</span> <span class="o">=</span> <span class="n">lreg</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">df5</span><span class="o">.</span><span class="n">rpm_max</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="n">df5</span><span class="o">.</span><span class="n">rpm_max</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="mi">1</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">size</span> <span class="p">,</span><span class="n">pred</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s">'red'</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">expanduser</span><span class="p">(</span><span class="s">'~/Documents/GitHub/briancaffey.github.io/img/fan/rpm_max_vs_static_pressure.png'</span><span class="p">))</span>
<span class="k">print</span> <span class="n">lreg</span><span class="o">.</span><span class="n">score</span><span class="p">(</span><span class="n">X</span><span class="p">,</span><span class="n">y</span><span class="p">,</span><span class="n">sample_weight</span><span class="o">=</span><span class="bp">None</span><span class="p">)</span>
</code></pre>
</div>
<p><code class="highlighter-rouge">0.711316685518</code></p>

<p><img src="/img/fan/rpm_max_vs_static_pressure.png" alt="png" /></p>

<p>The stronger force of the air flow from high static pressure fans is better at blowing hot air off of hot surfaces, so these fans are often attached to liquid CPU cooler radiators and CPU cooler heat blocks.</p>

<p>As we discussed TDP and CPU coolers, we know that managing heat well will improve performance. Every part of a PC generates heat. Some memory sticks even include heat shrouds to help keep temperatures down. Software utilities are available to monitor the temperature of every component in a PC build, and dynamically change the fan speeds to help keep temperatures low and framerates high.</p>

<h1 id="monitors">Monitors</h1>

<p>Framerate refers to how many frames per second are rendered in programs, typically games. Display monitors can show as many frames as their <em>refresh rate</em> allows. Most modern games and monitors use a technology called V-Sync (vertical-sync), which limits the frame rate to the monitors</p>

<h2 id="pc-builds">PC Builds</h2>

<h2 id="data-exploration-and-visualization">Data Exploration and Visualization</h2>

<p>The set of csv files I assembled at the end of data collection totaled just under 200MB.</p>

<h2 id="pc-components">PC Components</h2>

<p>I won’t put all of the code in this post, but the process for scrapping the parts is very similar to the process for scraping builds. I collected data on the following parts</p>

<p>Here’s how to embed</p>

<meta charset="utf-8" />

<title>my plot</title>

<link rel="stylesheet" href="http://cdn.pydata.org/bokeh/release/bokeh-0.9.0.min.css" type="text/css" />

<script type="text/javascript" src="http://cdn.pydata.org/bokeh/release/bokeh-0.9.0.min.js"></script>

<script type="text/javascript">
    Bokeh.set_log_level("info");
</script>

<script type="text/javascript">
    Bokeh.$(function() {
        var modelid = "27663170-c43e-4dea-a1bc-747229c2084e";
        var modeltype = "Plot";
        var elementid = "b201e9fd-4166-4aa8-8963-0ce26eeb8e73";
        Bokeh.logger.info("Realizing plot:")
        Bokeh.logger.info(" - modeltype: Plot");
        Bokeh.logger.info(" - modelid: 27663170-c43e-4dea-a1bc-747229c2084e");
        Bokeh.logger.info(" - elementid: b201e9fd-4166-4aa8-8963-0ce26eeb8e73");
        var all_models = [{"subtype": "Figure", "type": "Plot", "id": "27663170-c43e-4dea-a1bc-747229c2084e", "attributes": {"x_range": {"type": "DataRange1d", "id": "4839dfaa-3854-4e15-a204-ee072537d72b"}, "right": [], "tags": [], "y_range": {"type": "DataRange1d", "id": "6e07d07d-774a-4068-a104-6e8280e1bd33"}, "renderers": [{"type": "LinearAxis", "id": "5e8c9263-47d7-4d30-9e88-abfb7adb0c93"}, {"type": "Grid", "id": "8606d4ae-e56a-4fa9-ab6e-38a4a6a37098"}, {"type": "LinearAxis", "id": "98819d43-35a5-4c0c-8cdb-667d1f3603cd"}, {"type": "Grid", "id": "0551741c-d3e3-4395-81eb-d8c0190ede3e"}, {"type": "GlyphRenderer", "id": "d8c43984-012f-46b9-8f34-972a83b0ad2f"}], "extra_y_ranges": {}, "extra_x_ranges": {}, "tool_events": {"type": "ToolEvents", "id": "2e8e2bee-6830-45c7-bd6f-9166f5777505"}, "above": [], "doc": null, "id": "27663170-c43e-4dea-a1bc-747229c2084e", "tools": [{"type": "PanTool", "id": "e89e5427-e24e-47b1-bbaa-3aeb4321a9db"}, {"type": "WheelZoomTool", "id": "a37cf199-2570-4c07-9913-da0c5679d023"}, {"type": "BoxZoomTool", "id": "f431de3b-3585-424b-a698-cf3084b897df"}, {"type": "PreviewSaveTool", "id": "93383792-4ecc-4fc9-b735-b87781eae780"}, {"type": "ResizeTool", "id": "674735fd-0c97-43e8-8d1b-8f3f59f5fe42"}, {"type": "ResetTool", "id": "cd488e5c-076e-4027-b087-1dcdc73b6d10"}, {"type": "HelpTool", "id": "0a4e5027-8af4-4bbe-abb0-90caa5e09b44"}], "below": [{"type": "LinearAxis", "id": "5e8c9263-47d7-4d30-9e88-abfb7adb0c93"}], "left": [{"type": "LinearAxis", "id": "98819d43-35a5-4c0c-8cdb-667d1f3603cd"}]}}, {"attributes": {"names": [], "tags": [], "doc": null, "id": "4839dfaa-3854-4e15-a204-ee072537d72b", "renderers": []}, "type": "DataRange1d", "id": "4839dfaa-3854-4e15-a204-ee072537d72b"}, {"attributes": {"column_names": ["x", "y"], "tags": [], "doc": null, "selected": {"2d": {"indices": []}, "1d": {"indices": []}, "0d": {"indices": [], "flag": false}}, "callback": null, "data": {"y": [3, 4], "x": [1, 2]}, "id": "72265f1e-fb4d-4c3d-8fbe-559ad913936c"}, "type": "ColumnDataSource", "id": "72265f1e-fb4d-4c3d-8fbe-559ad913936c"}, {"attributes": {"names": [], "tags": [], "doc": null, "id": "6e07d07d-774a-4068-a104-6e8280e1bd33", "renderers": []}, "type": "DataRange1d", "id": "6e07d07d-774a-4068-a104-6e8280e1bd33"}, {"attributes": {"plot": {"subtype": "Figure", "type": "Plot", "id": "27663170-c43e-4dea-a1bc-747229c2084e"}, "tags": [], "doc": null, "formatter": {"type": "BasicTickFormatter", "id": "63b8bab9-a211-4a08-8703-a22f51bfcd0f"}, "ticker": {"type": "BasicTicker", "id": "e3ca1f42-4452-4cb2-b3b4-87db30ba3448"}, "id": "5e8c9263-47d7-4d30-9e88-abfb7adb0c93"}, "type": "LinearAxis", "id": "5e8c9263-47d7-4d30-9e88-abfb7adb0c93"}, {"attributes": {"tags": [], "doc": null, "mantissas": [2, 5, 10], "id": "e3ca1f42-4452-4cb2-b3b4-87db30ba3448", "num_minor_ticks": 5}, "type": "BasicTicker", "id": "e3ca1f42-4452-4cb2-b3b4-87db30ba3448"}, {"attributes": {"line_color": {"value": "#1f77b4"}, "line_alpha": {"value": 1.0}, "fill_color": {"value": "#1f77b4"}, "tags": [], "doc": null, "fill_alpha": {"value": 1.0}, "y": {"field": "y"}, "x": {"field": "x"}, "id": "8d15ed42-6088-40fc-8624-3ae69eedf1e2"}, "type": "Circle", "id": "8d15ed42-6088-40fc-8624-3ae69eedf1e2"}, {"attributes": {"plot": {"subtype": "Figure", "type": "Plot", "id": "27663170-c43e-4dea-a1bc-747229c2084e"}, "tags": [], "doc": null, "dimension": 0, "ticker": {"type": "BasicTicker", "id": "e3ca1f42-4452-4cb2-b3b4-87db30ba3448"}, "id": "8606d4ae-e56a-4fa9-ab6e-38a4a6a37098"}, "type": "Grid", "id": "8606d4ae-e56a-4fa9-ab6e-38a4a6a37098"}, {"attributes": {"plot": {"subtype": "Figure", "type": "Plot", "id": "27663170-c43e-4dea-a1bc-747229c2084e"}, "tags": [], "doc": null, "formatter": {"type": "BasicTickFormatter", "id": "b17c0304-1823-48c6-be15-f33ffc0fbecb"}, "ticker": {"type": "BasicTicker", "id": "628c864f-3b51-4815-bd0d-2050741e55b4"}, "id": "98819d43-35a5-4c0c-8cdb-667d1f3603cd"}, "type": "LinearAxis", "id": "98819d43-35a5-4c0c-8cdb-667d1f3603cd"}, {"attributes": {"tags": [], "doc": null, "mantissas": [2, 5, 10], "id": "628c864f-3b51-4815-bd0d-2050741e55b4", "num_minor_ticks": 5}, "type": "BasicTicker", "id": "628c864f-3b51-4815-bd0d-2050741e55b4"}, {"attributes": {"doc": null, "id": "b17c0304-1823-48c6-be15-f33ffc0fbecb", "tags": []}, "type": "BasicTickFormatter", "id": "b17c0304-1823-48c6-be15-f33ffc0fbecb"}, {"attributes": {"plot": {"subtype": "Figure", "type": "Plot", "id": "27663170-c43e-4dea-a1bc-747229c2084e"}, "tags": [], "doc": null, "dimension": 1, "ticker": {"type": "BasicTicker", "id": "628c864f-3b51-4815-bd0d-2050741e55b4"}, "id": "0551741c-d3e3-4395-81eb-d8c0190ede3e"}, "type": "Grid", "id": "0551741c-d3e3-4395-81eb-d8c0190ede3e"}, {"attributes": {"plot": {"subtype": "Figure", "type": "Plot", "id": "27663170-c43e-4dea-a1bc-747229c2084e"}, "dimensions": ["width", "height"], "tags": [], "doc": null, "id": "e89e5427-e24e-47b1-bbaa-3aeb4321a9db"}, "type": "PanTool", "id": "e89e5427-e24e-47b1-bbaa-3aeb4321a9db"}, {"attributes": {"plot": {"subtype": "Figure", "type": "Plot", "id": "27663170-c43e-4dea-a1bc-747229c2084e"}, "dimensions": ["width", "height"], "tags": [], "doc": null, "id": "a37cf199-2570-4c07-9913-da0c5679d023"}, "type": "WheelZoomTool", "id": "a37cf199-2570-4c07-9913-da0c5679d023"}, {"attributes": {"plot": {"subtype": "Figure", "type": "Plot", "id": "27663170-c43e-4dea-a1bc-747229c2084e"}, "dimensions": ["width", "height"], "tags": [], "doc": null, "id": "f431de3b-3585-424b-a698-cf3084b897df"}, "type": "BoxZoomTool", "id": "f431de3b-3585-424b-a698-cf3084b897df"}, {"attributes": {"plot": {"subtype": "Figure", "type": "Plot", "id": "27663170-c43e-4dea-a1bc-747229c2084e"}, "tags": [], "doc": null, "id": "93383792-4ecc-4fc9-b735-b87781eae780"}, "type": "PreviewSaveTool", "id": "93383792-4ecc-4fc9-b735-b87781eae780"}, {"attributes": {"nonselection_glyph": {"type": "Circle", "id": "8862d1e2-f5a3-468d-971b-c58701a194c4"}, "data_source": {"type": "ColumnDataSource", "id": "72265f1e-fb4d-4c3d-8fbe-559ad913936c"}, "name": null, "tags": [], "doc": null, "selection_glyph": null, "id": "d8c43984-012f-46b9-8f34-972a83b0ad2f", "glyph": {"type": "Circle", "id": "8d15ed42-6088-40fc-8624-3ae69eedf1e2"}}, "type": "GlyphRenderer", "id": "d8c43984-012f-46b9-8f34-972a83b0ad2f"}, {"attributes": {"plot": {"subtype": "Figure", "type": "Plot", "id": "27663170-c43e-4dea-a1bc-747229c2084e"}, "tags": [], "doc": null, "id": "674735fd-0c97-43e8-8d1b-8f3f59f5fe42"}, "type": "ResizeTool", "id": "674735fd-0c97-43e8-8d1b-8f3f59f5fe42"}, {"attributes": {"plot": {"subtype": "Figure", "type": "Plot", "id": "27663170-c43e-4dea-a1bc-747229c2084e"}, "tags": [], "doc": null, "id": "cd488e5c-076e-4027-b087-1dcdc73b6d10"}, "type": "ResetTool", "id": "cd488e5c-076e-4027-b087-1dcdc73b6d10"}, {"attributes": {"plot": {"subtype": "Figure", "type": "Plot", "id": "27663170-c43e-4dea-a1bc-747229c2084e"}, "tags": [], "doc": null, "id": "0a4e5027-8af4-4bbe-abb0-90caa5e09b44"}, "type": "HelpTool", "id": "0a4e5027-8af4-4bbe-abb0-90caa5e09b44"}, {"attributes": {"geometries": [], "tags": [], "doc": null, "id": "2e8e2bee-6830-45c7-bd6f-9166f5777505"}, "type": "ToolEvents", "id": "2e8e2bee-6830-45c7-bd6f-9166f5777505"}, {"attributes": {"doc": null, "id": "63b8bab9-a211-4a08-8703-a22f51bfcd0f", "tags": []}, "type": "BasicTickFormatter", "id": "63b8bab9-a211-4a08-8703-a22f51bfcd0f"}, {"attributes": {"line_color": {"value": "#1f77b4"}, "line_alpha": {"value": 0.1}, "fill_color": {"value": "#1f77b4"}, "tags": [], "doc": null, "fill_alpha": {"value": 0.1}, "y": {"field": "y"}, "x": {"field": "x"}, "id": "8862d1e2-f5a3-468d-971b-c58701a194c4"}, "type": "Circle", "id": "8862d1e2-f5a3-468d-971b-c58701a194c4"}];
        Bokeh.load_models(all_models);
        var model = Bokeh.Collections(modeltype).get(modelid);
        var view = new model.default_view({model: model, el: '#b201e9fd-4166-4aa8-8963-0ce26eeb8e73'});
        Bokeh.index[modelid] = view
    });
</script>

<div class="plotdiv" id="b201e9fd-4166-4aa8-8963-0ce26eeb8e73"></div>

  </div>

<!-- Add Disqus comments. -->
<div id="disqus_thread"></div>
<script type="text/javascript">
  /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
  var disqus_shortname = 'briancaffey'; // required: replace example with your forum shortname
  var disqus_identifier = "/2017/01/01/pc-data.html";

  /* * * DON'T EDIT BELOW THIS LINE * * */
  (function() {
    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>

</article>

      </div>
    </div>

    <footer class="site-footer">

  <div class="wrapper">

    <h2 class="footer-heading">Brian Caffey</h2>

    <div class="footer-col-wrapper">
      <div class="footer-col footer-col-1">
        <ul class="contact-list">
          <li>Brian Caffey</li>
          <li><a href="mailto:briancaffey2010@gmail.com">briancaffey2010@gmail.com</a></li>
        </ul>
      </div>

      <div class="footer-col footer-col-2">
        <ul class="social-media-list">
          
          <li>
            <a href="https://github.com/briancaffey"><span class="icon icon--github"><svg viewBox="0 0 16 16"><path fill="#828282" d="M7.999,0.431c-4.285,0-7.76,3.474-7.76,7.761 c0,3.428,2.223,6.337,5.307,7.363c0.388,0.071,0.53-0.168,0.53-0.374c0-0.184-0.007-0.672-0.01-1.32 c-2.159,0.469-2.614-1.04-2.614-1.04c-0.353-0.896-0.862-1.135-0.862-1.135c-0.705-0.481,0.053-0.472,0.053-0.472 c0.779,0.055,1.189,0.8,1.189,0.8c0.692,1.186,1.816,0.843,2.258,0.645c0.071-0.502,0.271-0.843,0.493-1.037 C4.86,11.425,3.049,10.76,3.049,7.786c0-0.847,0.302-1.54,0.799-2.082C3.768,5.507,3.501,4.718,3.924,3.65 c0,0,0.652-0.209,2.134,0.796C6.677,4.273,7.34,4.187,8,4.184c0.659,0.003,1.323,0.089,1.943,0.261 c1.482-1.004,2.132-0.796,2.132-0.796c0.423,1.068,0.157,1.857,0.077,2.054c0.497,0.542,0.798,1.235,0.798,2.082 c0,2.981-1.814,3.637-3.543,3.829c0.279,0.24,0.527,0.713,0.527,1.437c0,1.037-0.01,1.874-0.01,2.129 c0,0.208,0.14,0.449,0.534,0.373c3.081-1.028,5.302-3.935,5.302-7.362C15.76,3.906,12.285,0.431,7.999,0.431z"/></svg>
</span><span class="username">briancaffey</span></a>

          </li>
          

          
          <li>
            <a href="https://twitter.com/jamesbrianc"><span class="icon icon--twitter"><svg viewBox="0 0 16 16"><path fill="#828282" d="M15.969,3.058c-0.586,0.26-1.217,0.436-1.878,0.515c0.675-0.405,1.194-1.045,1.438-1.809c-0.632,0.375-1.332,0.647-2.076,0.793c-0.596-0.636-1.446-1.033-2.387-1.033c-1.806,0-3.27,1.464-3.27,3.27 c0,0.256,0.029,0.506,0.085,0.745C5.163,5.404,2.753,4.102,1.14,2.124C0.859,2.607,0.698,3.168,0.698,3.767 c0,1.134,0.577,2.135,1.455,2.722C1.616,6.472,1.112,6.325,0.671,6.08c0,0.014,0,0.027,0,0.041c0,1.584,1.127,2.906,2.623,3.206 C3.02,9.402,2.731,9.442,2.433,9.442c-0.211,0-0.416-0.021-0.615-0.059c0.416,1.299,1.624,2.245,3.055,2.271 c-1.119,0.877-2.529,1.4-4.061,1.4c-0.264,0-0.524-0.015-0.78-0.046c1.447,0.928,3.166,1.469,5.013,1.469 c6.015,0,9.304-4.983,9.304-9.304c0-0.142-0.003-0.283-0.009-0.423C14.976,4.29,15.531,3.714,15.969,3.058z"/></svg>
</span><span class="username">jamesbrianc</span></a>

          </li>
          
        </ul>
      </div>

      <div class="footer-col footer-col-3">
        <p>Thanks for visiting my site, please take a minute to look around!
</p>
      </div>
    </div>

  </div>

</footer>


  </body>

</html>
